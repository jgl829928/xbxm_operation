webpackJsonp([53],{"2Cjf":function(e,t){},"7w8+":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("lC5x"),i=a.n(n),r=a("J0Oq"),l=a.n(r),s=a("IHPB"),o=a.n(s),c=a("rVsN"),m=a.n(c),p=a("hm3b"),d=a("FTcF"),u=a("hVDB"),g={name:"warn",components:{Pagenation:p.a,selectMarket:d.a},data:function(){return{pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},pageDefault:{totalRecords:0,currentPage:1,pageSize:20},timeSelect:[],pageParams:{marketCode:"",topicCode:"",currentPage:1},tableList:[],storeNameOption:[],remindOption:[]}},methods:{getOptionData:function(){var e=this,t=this.$http.get(u.a.allStore),a=this.$http.get(u.a.remindOption);m.a.all([t,a]).then(function(t){0===t[0].code&&(e.storeNameOption=[],e.storeNameOption=[].concat(o()(t[0].data))),0===t[1].code&&(e.remindOption=[],e.remindOption=[].concat(o()(t[1].data)))})},getPageList:function(e){var t=this;return l()(i.a.mark(function a(){var n;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.pageParams.currentPage=e||1,t.pageDefault.currentPage=e||1,a.next=4,t.$http.get(u.a.remindersList,{params:t.pageParams});case 4:0===(n=a.sent).code&&(t.pageDefault.totalRecords=n.page.totalRecords,t.tableList=[],t.tableList=[].concat(o()(n.data)));case 6:case"end":return a.stop()}},a,t)}))()},deleteRemind:function(e){var t=this;this.$confirm("确认删除？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$http.delete(u.a.deleteRemind+"/"+e).then(function(e){0===e.code?(t.$message.success(e.msg),t.getPageList()):t.$message.error(e.msg)})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},indexMethod:function(e){return e+20*(this.pageParams.currentPage-1)+1}},beforeMount:function(){this.getOptionData(),this.getPageList()}},f={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"contract-receipts warn-manage"},[a("el-form",{ref:"pageParams",staticClass:"c-search-form",attrs:{model:e.pageParams,inline:!0,"label-position":"right"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"商场",prop:"skuCode"}},[a("selectMarket",{attrs:{reqData:e.pageParams}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"提醒类型",prop:"skuCode"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.pageParams.topicCode,callback:function(t){e.$set(e.pageParams,"topicCode","string"==typeof t?t.trim():t)},expression:"pageParams.topicCode"}},e._l(e.remindOption,function(e,t){return a("el-option",{key:t,attrs:{label:e.topicName,value:e.topicCode}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"c-footer-btn"},[a("el-button",{staticClass:"btn-search",attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){e.getPageList(1)}}},[e._v("查询")])],1)])],1)],1),e._v(" "),a("div",{staticClass:"c-table-wrap"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableList,align:"center",stripe:"",height:"500"}},[a("el-table-column",{attrs:{align:"center",label:"序号","min-width":"115",prop:"reminderCode"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"appAccount","min-width":"120",label:"用户账号"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"110",align:"center",prop:"userName",label:"用户姓名"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"110",align:"center",prop:"marketName",label:"所属商场"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"topicName","min-width":"115",label:"提醒类型/主题"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"110",align:"center",prop:"remindTime",label:"提醒时间"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"120",align:"center",prop:"remindedName",label:"联系人"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"phoneNumber","min-width":"115",label:"联系方式"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"110",align:"center",label:"地址"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"one-line",attrs:{title:t.row.address}},[e._v(e._s(t.row.address))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"110",align:"center",label:"备注"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"one-line",attrs:{title:t.row.comment}},[e._v(e._s(t.row.comment))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"100",align:"center",label:"购买商品"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v("--")])]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"100",align:"center",label:"保修期"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v("--")])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"createTime","min-width":"165",label:"记录时间"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"110",align:"center",prop:"remindStatus.desc",label:"完成状态"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"110",align:"center",label:"操作",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"btn-handle btn-add",attrs:{disabled:!e.$store.getters.getPermission("warn_2"),type:"primary"},on:{click:function(a){e.deleteRemind(t.row.reminderCode)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),a("Pagenation",{attrs:{pageparams:e.pageDefault,itemList:e.tableList},on:{handlePage:e.getPageList}})],1)},staticRenderFns:[]};var b=a("vSla")(g,f,!1,function(e){a("tE8n"),a("2Cjf")},"data-v-3d2b1b03",null);t.default=b.exports},tE8n:function(e,t){}});
//# sourceMappingURL=53.9963af9743418102695e.js.map