webpackJsonp([45],{"5Zp4":function(t,a){},eoCp:function(t,a){},inrK:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("Xxa5"),r=e.n(s),l=e("mvHQ"),n=e.n(l),i=e("exGp"),c=e.n(i),o=e("YH6z"),u=e("vsZy"),m={name:"contractRecCashIn",mixins:[u.b,u.a,u.c],data:function(){return{value:"",radio:1,name:"",submitData:{contractBatchNum:"",costId:[],payAmount:0,payNumber:"",payType:3},paymentSuccess:"",unpaidPayment:"",rules:{payAmount:[{required:!0,validator:function(t,a,e){if(!(a=a.toString())||!a.trim())return e(new Error("请输入大于零的数字值"));setTimeout(function(){!/^\d+(\.\d+)?$/.test(a.trim())||a.trim()<=0?e(new Error("请输入大于零的数字值")):e()},100)},trigger:"blur"}],payType:[{required:!0,message:"选择付款方式",trigger:"blur"}],payNumber:[{required:!0,message:"付款码不能为空",trigger:"blur"}]}}},mounted:function(){var t=this.$route.params.contractBatchNum||"";this.getData(o.a.contractCosts,t),this.submitData.contractBatchNum=t},methods:{cancel:function(){this.$router.push({path:"/finance/contractReceipts"})},submit:function(){var t=this;if(!this.submitData.costId.length)return this.$message.error("请勾选费用列表中交款项");this.ajaxPost({url:o.a.costsReceipt,data:this.submitData,validateModel:"submitData",callBack:function(a){var e,s=a.data;s.num&&0===s.num.code?t.confirmBox({title:"操作提示",message:s.desc,btn:"确认,取消",callBack:(e=c()(r.a.mark(function a(){var e;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e={contractBatchNum:t.submitData.contractBatchNum,orderNo:s.orderNo,costId:n()(t.submitData.costId)},a.next=3,t.$http.get(o.a.costsConfirmed,{params:e});case 3:a.sent&&(t.$message.success("支付成功"),t.$router.push("/finance/contractReceipts"));case 5:case"end":return a.stop()}},a,t)})),function(){return e.apply(this,arguments)})}):t.$router.push("/finance/contractReceipts")}})},selectable:function(){var t=arguments[0].costPaymentStatus?arguments[0].costPaymentStatus.code:"";return 1===t||2===t}}},p={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"receipts-wrap"},[e("p",{staticClass:"tips"},[t._v("合同-收款")]),t._v(" "),e("el-form",{attrs:{"label-width":"110px",inline:!0,"label-position":"right"}},[e("el-row",{attrs:{gutter:32}},[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"商户名称"}},[e("span",{staticClass:"v-value"},[t._v(t._s(t.merchant.merchantName))])])],1),t._v(" "),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"合同编号"}},[e("span",{staticClass:"v-value"},[t._v(t._s(t.$route.params.contractBatchNum))])])],1)],1),t._v(" "),e("el-row",{attrs:{gutter:32}},[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"负责人联系电话"}},[e("span",{staticClass:"v-value"},[t._v(t._s(t.merchant.leaderTel))])])],1),t._v(" "),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"摊位号"}},[e("span",{staticClass:"v-value"},[t._v(t._s(t.merchant.boothId))])])],1)],1),t._v(" "),e("el-row",{attrs:{gutter:32}},[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"营业执照号"}},[e("span",{staticClass:"v-value"},[t._v(t._s(t.merchant.loginNumber))])])],1),t._v(" "),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"合同签订时间"}},[e("span",{staticClass:"v-value"},[t._v(t._s(t.merchant.createTime))])])],1)],1),t._v(" "),e("el-row",{attrs:{gutter:32}},[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"合同开始日期"}},[e("span",{staticClass:"v-value"},[t._v(t._s(t.merchant.rentBeginTime))])])],1),t._v(" "),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"合同结束日期"}},[e("span",{staticClass:"v-value"},[t._v(t._s(t.merchant.rentEndTime))])])],1)],1)],1),t._v(" "),e("p",{staticClass:"tips"},[t._v("费用列表")]),t._v(" "),e("div",{staticClass:"c-table-wrap"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.itemList,align:"center",stripe:"","show-summary":"","summary-method":t.getSummaries},on:{"selection-change":t.handleSelectionChange}},[e("el-table-column",{attrs:{align:"center",prop:"costPhase",width:"50",label:"期数"}}),t._v(" "),e("el-table-column",{attrs:{align:"center",prop:"costProperty",label:"费用类型"}}),t._v(" "),e("el-table-column",{attrs:{align:"center",prop:"costAmount",label:"金额"}}),t._v(" "),e("el-table-column",{attrs:{align:"center",prop:"cumulativePaidAmount",label:"已交金额"}}),t._v(" "),e("el-table-column",{attrs:{align:"center",prop:"unpaidPayment",label:"未交金额"}}),t._v(" "),e("el-table-column",{attrs:{align:"center",prop:"expectPayTime",label:"预计收款日期"}}),t._v(" "),e("el-table-column",{attrs:{align:"center",label:"单位"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v("元")]}}])}),t._v(" "),e("el-table-column",{attrs:{align:"center",label:"收入性质"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(a.row.incomeProperty?a.row.incomeProperty.desc:""))])]}}])}),t._v(" "),e("el-table-column",{attrs:{type:"selection",selectable:t.selectable,width:"50"}})],1)],1),t._v(" "),e("el-form",{ref:"submitData",attrs:{"label-width":"110px",model:t.submitData,inline:!0,rules:t.rules,"label-position":"right"}},[e("el-row",{attrs:{gutter:32}},[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"未交款金额"}},[e("span",{staticClass:"v-value"},[t._v(t._s(t.unpaidPayment)+"元")])])],1),t._v(" "),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"已交款金额"}},[e("span",{staticClass:"v-value"},[t._v(t._s(t.paymentSuccess)+"元")])])],1)],1),t._v(" "),e("el-row",{attrs:{gutter:32}},[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"交款金额",prop:"payAmount"}},[t.canInput?[e("el-input",{staticClass:"c-el-input",attrs:{clearable:""},model:{value:t.submitData.payAmount,callback:function(a){t.$set(t.submitData,"payAmount","string"==typeof a?a.trim():a)},expression:"submitData.payAmount"}}),t._v(" "),e("span",{staticClass:"v-value"},[t._v("元")])]:e("span",{staticClass:"v-value"},[t._v(t._s(t.submitData.payAmount)+"元")])],2)],1)],1),t._v(" "),e("el-row",{attrs:{gutter:32}},[e("el-col",{attrs:{span:32}},[e("el-form-item",{attrs:{label:"付款方式",prop:"payType"}},[e("el-radio-group",{model:{value:t.submitData.payType,callback:function(a){t.$set(t.submitData,"payType","string"==typeof a?a.trim():a)},expression:"submitData.payType"}},[e("el-radio",{attrs:{label:3}},[t._v("POS机刷卡")]),t._v(" "),e("el-radio",{attrs:{label:4}},[t._v("银行转账")]),t._v(" "),e("el-radio",{attrs:{label:5}},[t._v("现金")])],1)],1)],1)],1),t._v(" "),1==t.submitData.payType||2==t.submitData.payType?e("el-row",{attrs:{gutter:32}},[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"付款码",prop:"payNumber"}},[e("el-input",{staticClass:"c-el-input",attrs:{clearable:""},model:{value:t.submitData.payNumber,callback:function(a){t.$set(t.submitData,"payNumber","string"==typeof a?a.trim():a)},expression:"submitData.payNumber"}})],1)],1)],1):t._e()],1),t._v(" "),e("div",{staticClass:"footer-wrap"},[e("el-button",{staticClass:"btn-120",attrs:{type:"primary"},on:{click:t.submit}},[t._v("收款")]),t._v(" "),e("el-button",{staticClass:"btn-120",attrs:{type:"default"},on:{click:t.cancel}},[t._v("\n      取消\n    ")])],1)],1)},staticRenderFns:[]};var v=e("VU/8")(m,p,!1,function(t){e("5Zp4"),e("eoCp")},"data-v-559ad30f",null);a.default=v.exports}});
//# sourceMappingURL=45.1aa3cbff2ed3e4ccf870.js.map