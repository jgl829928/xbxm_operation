{"version":3,"sources":["webpack:///src/views/operation_manage/content_manage/edit_content/index.vue","webpack:///./src/views/operation_manage/content_manage/edit_content/index.vue?757c","webpack:///./src/views/operation_manage/content_manage/edit_content/index.vue","webpack:///src/views/operation_manage/content_manage/component/Tinymce/components/editorImage.vue","webpack:///./src/views/operation_manage/content_manage/component/Tinymce/components/editorImage.vue?1d5d","webpack:///./src/views/operation_manage/content_manage/component/Tinymce/components/editorImage.vue","webpack:///./src/views/operation_manage/content_manage/component/Tinymce/plugins.js","webpack:///./src/views/operation_manage/content_manage/component/Tinymce/toolbar.js","webpack:///src/views/operation_manage/content_manage/component/Tinymce/index.vue","webpack:///./src/views/operation_manage/content_manage/component/Tinymce/index.vue?238b","webpack:///./src/views/operation_manage/content_manage/component/Tinymce/index.vue"],"names":["edit_content","name","computed","extends_default","Object","vuex_esm","components","Tinymce","data","uploadUrl","uploadHeaders","gTicket","channels","code","desc","rules","title","required","message","trigger","min","max","subtitle","releaseChannelList","coverImageUrl","author","contentAbstract","contentType","link","ruleForm","content","methods","beforeImgUpload","file","isLt5M","size","this","$message","error","coverImageUpload","res","submitForm","formName","_this","$refs","validate","valid","console","log","$http","put","operation_manage","addContent","contentCode","then","success","msg","$router","push","path","getOneData","_this2","id","$route","params","get","singleContent","assign_default","obj","releaseChannel","i","length","concat","resetForm","resetFields","beforeMount","defaults","baseURL","content_manage_edit_content","render","_vm","_h","$createElement","_c","_self","staticClass","_v","ref","attrs","model","label-width","inline","label-position","label","prop","clearable","value","callback","$$v","$set","trim","expression","multiple","placeholder","_l","item","key","headers","action","accept","show-file-list","before-upload","on-success","src","type","rows","height","icon","on","click","$event","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","editorImage","props","color","String","default","dialogVisible","listObj","fileList","checkAllSuccess","keys_default","every","hasSuccess","handleSubmit","arr","map","v","$emit","handleSuccess","response","uid","objKeyArr","len","url","handleRemove","beforeUpload","_URL","window","URL","webkitURL","fileName","promise_default","a","resolve","reject","img","Image","createObjectURL","onload","width","components_editorImage","style","background","borderColor","append-to-body","visible","update:visible","file-list","list-type","on-remove","Tinymce_plugins","Tinymce_toolbar","toolbar","Array","menubar","Number","hasChange","hasInit","tinymceId","Date","fullscreen","watch","val","$nextTick","tinymce","setContent","mounted","initTinymce","activated","deactivated","destroyTinymce","_this3","init","selector","body_class","object_resizing","plugins","end_container_on_empty_block","powerpaste_word_import","code_dialog_height","code_dialog_width","advlist_bullet_styles","advlist_number_styles","imagetools_cors_hosts","default_link_target","link_title","nonbreaking_force_tab","init_instance_callback","editor","getContent","setup","e","state","destroy","imageSuccessCBK","forEach","insertContent","destroyed","component_Tinymce","class","successCBK","Tinymce_Component","Tinymce_normalizeComponent"],"mappings":"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","file":"static/js/6.b84024b295533c92f068.js","sourcesContent":["<template>\r\n  <div class=\"contract-receipts add-content\">\r\n    <div class=\"main-title\">\r\n      <!--<span class=\"el-icon-back back-btn\" @click=\"$router.go(-1)\"></span>-->\r\n      编辑内容</div>\r\n    <br>\r\n    <el-form class=\"c-search-form\" :rules=\"rules\" :model=\"ruleForm\" ref=\"ruleForm\" label-width=\"102px\" :inline=\"true\"\r\n             label-position=\"right\">\r\n      <div>\r\n        <el-form-item label=\"文章标题\" prop=\"title\">\r\n          <el-input clearable v-model.trim=\"ruleForm.title\"></el-input>\r\n        </el-form-item>\r\n      </div>\r\n      <div>\r\n        <el-form-item label=\"副标题\" class=\"second-title\" prop=\"subtitle\">\r\n          <el-input clearable v-model.trim=\"ruleForm.subtitle\"></el-input>\r\n        </el-form-item>\r\n      </div>\r\n      <div>\r\n        <el-form-item label=\"发布渠道\" prop=\"releaseChannelList\" class=\"second-title\">\r\n          <el-select v-model.trim=\"ruleForm.releaseChannelList\" multiple placeholder=\"请选择\">\r\n            <el-option v-for=\"item in channels\" :key=\"item.code\" :label=\"item.desc\" :value=\"item.code\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <!--<el-button disabled class=\"btn-search\" type=\"primary\">浏览</el-button>-->\r\n      </div>\r\n      <div>\r\n        <el-form-item label=\"封面图\" prop=\"coverImageUrl\">\r\n          <el-upload\r\n            class=\"avatar-uploader\"\r\n            :headers=\"uploadHeaders\"\r\n            :action=\"uploadUrl\"\r\n            accept=\"image/jpg,image/jpeg,image/png,image/bmp,image/gif\"\r\n            :show-file-list=\"false\"\r\n            :before-upload=\"beforeImgUpload\"\r\n            :on-success=\"coverImageUpload\">\r\n            <img v-if=\"ruleForm.coverImageUrl\" :src=\"ruleForm.coverImageUrl\" class=\"avatar\">\r\n            <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n          </el-upload>\r\n        </el-form-item>\r\n      </div>\r\n      <div>\r\n        <el-form-item label=\"作者\" prop=\"author\" class=\"author\">\r\n          <el-input clearable v-model.trim=\"ruleForm.author\"></el-input>\r\n        </el-form-item>\r\n      </div>\r\n      <div>\r\n        <el-form-item label=\"摘要\" prop=\"contentAbstract\">\r\n          <el-input\r\n            type=\"textarea\"\r\n            :rows=\"5\"\r\n            placeholder=\"请输入内容\"\r\n            clearable\r\n            v-model.trim=\"ruleForm.contentAbstract\"></el-input>\r\n        </el-form-item>\r\n      </div>\r\n      <div>\r\n        <el-form-item label=\"正文类型\" prop=\"contentType\">\r\n          <el-radio-group v-model.trim=\"ruleForm.contentType\">\r\n            <el-radio label=\"1\">链接</el-radio>\r\n            <el-radio label=\"2\">图文</el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n      </div>\r\n      <div v-if=\"ruleForm.contentType==='1'\">\r\n        <el-form-item label=\"文章链接\" prop=\"link\">\r\n          <el-input clearable v-model.trim=\"ruleForm.link\"></el-input>\r\n        </el-form-item>\r\n      </div>\r\n      <div class=\"editor-container-wrap\" v-else>\r\n        <Tinymce :height=400 ref=\"editor\" v-model.trim=\"ruleForm.content\"/>\r\n      </div>\r\n      <div class=\"save-btn\">\r\n        <el-button class=\"btn-save-big\" type=\"primary\" icon=\"el-icon-save\" @click=\"submitForm('ruleForm')\">保存</el-button>\r\n      </div>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import api from '@/api/operation-manage';\r\n  import Tinymce from '../component/Tinymce';\r\n  import { mapState } from 'vuex'\r\n  export default {\r\n    name:'editContent',\r\n    computed:{\r\n      ...mapState(['gTicket'])\r\n    },\r\n    components: {Tinymce},\r\n    data() {\r\n      return {\r\n        uploadUrl:'',\r\n        uploadHeaders:{\r\n          gTicket:''\r\n        },\r\n        channels:[\r\n          {code:1,desc:'App首页'}\r\n        ],\r\n        rules: {\r\n          title: [{required: true, message: '请输入文章标题', trigger: 'blur'},\r\n            {min: 1, max: 30, message: '长度1-30 个字符', trigger: 'blur'}],\r\n          subtitle: [{required: false,min: 1, max: 20, message: '长度1-20 个字符', trigger: 'blur'}],\r\n          releaseChannelList: [{required: true, message: '请选择发布渠道', trigger: 'change'}],\r\n          coverImageUrl: [{required: true, message: '请上传封面图', trigger: 'change'}],\r\n          author: [{required: true, message: '请输入作者', trigger: 'blur'},\r\n            {min: 1, max: 10, message: '长度1-10 个字符', trigger: 'blur'}],\r\n          contentAbstract: [{required: true, message: '请输入摘要', trigger: 'blur'},\r\n            {min: 1, max: 120, message: '长度1-120 个字符', trigger: 'blur'}],\r\n          contentType: [{required: true, message: '请选择类型', trigger: 'change'}],\r\n          link: [{required: true, message: '请输入链接', trigger: 'blur'}],\r\n        },\r\n        ruleForm: {\r\n          title: '',\r\n          subtitle: '',\r\n          releaseChannelList:[],\r\n          coverImageUrl: '',\r\n          author: '',\r\n          contentAbstract: '',\r\n          contentType: '',\r\n          link: '',\r\n          content:''\r\n        }\r\n      }\r\n    },\r\n    methods: {\r\n      beforeImgUpload(file) {\r\n        const isLt5M = file.size / 1024 / 1024 <= 20;\r\n        if (!isLt5M) {\r\n          this.$message.error(\"上传头像图片大小不能超过20MB!\");\r\n        }\r\n        return isLt5M;\r\n      },\r\n      coverImageUpload(res) {//封面图上传\r\n        this.ruleForm.coverImageUrl= res.data;\r\n      },\r\n      submitForm(formName) {\r\n        this.$refs[formName].validate((valid) => {\r\n          if (valid) {\r\n            console.log(this.ruleForm);\r\n            this.$http.put(api.addContent+`/${this.ruleForm.contentCode}`,this.ruleForm).then(res=>{\r\n              if(res.code===0){\r\n                this.$message.success(res.msg);\r\n                this.$router.push({path:'/operation/content'})\r\n              }else{\r\n                this.$message.error(res.msg)\r\n              }\r\n            })\r\n          } else {\r\n            console.log('error submit!!');\r\n            return false;\r\n          }\r\n        });\r\n      },\r\n      getOneData(){\r\n        let id=this.$route.params.id;\r\n        this.$http.get(api.singleContent+`/${id}`).then(res=>{\r\n          if(res.code===0){\r\n             Object.assign(this.ruleForm,res.data);\r\n             let obj={...this.ruleForm};\r\n             //发布渠道处理\r\n             let releaseChannel=obj.releaseChannel;\r\n             let releaseChannelList=[];\r\n             for(let i=0;i<releaseChannel.length;i++){\r\n               releaseChannelList.push(releaseChannel[i].code)\r\n             }\r\n             this.ruleForm.releaseChannelList=[];\r\n             this.ruleForm.releaseChannelList=[...releaseChannelList];\r\n             //正文类型处理\r\n             this.ruleForm.contentType=obj.contentType.code+'';\r\n             console.log(this.ruleForm)\r\n          }\r\n        })\r\n      },\r\n      resetForm(formName) {\r\n        this.$refs[formName].resetFields();\r\n      },\r\n    },\r\n    beforeMount(){\r\n      this.getOneData();\r\n      this.uploadUrl=`${this.$http.defaults.baseURL}/business/operation/image/upload`;\r\n      this.uploadHeaders.gTicket=this.gTicket;\r\n    }\r\n  };\r\n</script>\r\n<style lang=\"less\" scoped>\r\n  .contract-receipts {\r\n    .footer-btn {\r\n      width: 342px;\r\n      text-align: right;\r\n    }\r\n  }\r\n  .unit-div {\r\n    margin-top: 30px;\r\n    text-align: right;\r\n  }\r\n</style>\r\n<style lang=\"less\">\r\n  .add-content {\r\n    .main-title {\r\n      width: 60%;\r\n      height: 28px;\r\n      line-height: 28px;\r\n      font-size: 16px;\r\n      color: #444444;\r\n      font-weight: bold;\r\n      text-align: center;\r\n      margin-bottom: 30px;\r\n      .back-btn {\r\n        display: inline-block;\r\n        width: 27px;\r\n        height: 27px;\r\n        line-height: 27px;\r\n        border: 1px solid #EBEBEB;\r\n        border-radius: 50%;\r\n        color: #EBEBEB;\r\n        cursor: pointer;\r\n        font-weight: bold;\r\n        float: left;\r\n      }\r\n    }\r\n    .c-search-form{\r\n      .el-form-item__content{\r\n        width: 580px;\r\n      }\r\n      .second-title .el-form-item__content{\r\n        width: 477px;\r\n      }\r\n      .author .el-form-item__content{\r\n        width: 200px;\r\n      }\r\n    }\r\n\r\n    .el-date-editor.el-input, .el-date-editor.el-input__inner {\r\n      width: 100%;\r\n    }\r\n    .avatar-uploader .el-upload {\r\n      border: 1px dashed #d9d9d9;\r\n      border-radius: 6px;\r\n      cursor: pointer;\r\n      position: relative;\r\n      overflow: hidden;\r\n    }\r\n    .avatar-uploader .el-upload:hover {\r\n      border-color: #409EFF;\r\n    }\r\n    .avatar-uploader-icon {\r\n      font-size: 28px;\r\n      color: #8c939d;\r\n      width: 178px;\r\n      height: 178px;\r\n      line-height: 178px;\r\n      text-align: center;\r\n    }\r\n    .avatar {\r\n      width: 178px;\r\n      height: 178px;\r\n      display: block;\r\n    }\r\n    .area-size {\r\n      .el-form-item__content {\r\n        width: 170px;\r\n        vertical-align: middle;\r\n      }\r\n    }\r\n    .unit {\r\n      display: inline-block;\r\n      margin-top: 10px;\r\n    }\r\n    .save-btn {\r\n      width: 60%;\r\n      text-align: center;\r\n    }\r\n    .editor-container-wrap{\r\n      min-height: 500px;\r\n      width: 80%;\r\n      margin: 15px 0 30px 102px;\r\n      .editor-upload-btn-container {\r\n        text-align: right;\r\n        margin-right: 10px;\r\n        .editor-upload-btn {\r\n          display: inline-block;\r\n        }\r\n      }\r\n    }\r\n    .mce-container, .mce-container-body{\r\n      display: block;\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/operation_manage/content_manage/edit_content/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"contract-receipts add-content\"},[_c('div',{staticClass:\"main-title\"},[_vm._v(\"\\n    编辑内容\")]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('el-form',{ref:\"ruleForm\",staticClass:\"c-search-form\",attrs:{\"rules\":_vm.rules,\"model\":_vm.ruleForm,\"label-width\":\"102px\",\"inline\":true,\"label-position\":\"right\"}},[_c('div',[_c('el-form-item',{attrs:{\"label\":\"文章标题\",\"prop\":\"title\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.ruleForm.title),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"title\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"ruleForm.title\"}})],1)],1),_vm._v(\" \"),_c('div',[_c('el-form-item',{staticClass:\"second-title\",attrs:{\"label\":\"副标题\",\"prop\":\"subtitle\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.ruleForm.subtitle),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"subtitle\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"ruleForm.subtitle\"}})],1)],1),_vm._v(\" \"),_c('div',[_c('el-form-item',{staticClass:\"second-title\",attrs:{\"label\":\"发布渠道\",\"prop\":\"releaseChannelList\"}},[_c('el-select',{attrs:{\"multiple\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.ruleForm.releaseChannelList),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"releaseChannelList\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"ruleForm.releaseChannelList\"}},_vm._l((_vm.channels),function(item){return _c('el-option',{key:item.code,attrs:{\"label\":item.desc,\"value\":item.code}})}))],1)],1),_vm._v(\" \"),_c('div',[_c('el-form-item',{attrs:{\"label\":\"封面图\",\"prop\":\"coverImageUrl\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"headers\":_vm.uploadHeaders,\"action\":_vm.uploadUrl,\"accept\":\"image/jpg,image/jpeg,image/png,image/bmp,image/gif\",\"show-file-list\":false,\"before-upload\":_vm.beforeImgUpload,\"on-success\":_vm.coverImageUpload}},[(_vm.ruleForm.coverImageUrl)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.ruleForm.coverImageUrl}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1)],1),_vm._v(\" \"),_c('div',[_c('el-form-item',{staticClass:\"author\",attrs:{\"label\":\"作者\",\"prop\":\"author\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.ruleForm.author),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"author\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"ruleForm.author\"}})],1)],1),_vm._v(\" \"),_c('div',[_c('el-form-item',{attrs:{\"label\":\"摘要\",\"prop\":\"contentAbstract\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":5,\"placeholder\":\"请输入内容\",\"clearable\":\"\"},model:{value:(_vm.ruleForm.contentAbstract),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"contentAbstract\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"ruleForm.contentAbstract\"}})],1)],1),_vm._v(\" \"),_c('div',[_c('el-form-item',{attrs:{\"label\":\"正文类型\",\"prop\":\"contentType\"}},[_c('el-radio-group',{model:{value:(_vm.ruleForm.contentType),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"contentType\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"ruleForm.contentType\"}},[_c('el-radio',{attrs:{\"label\":\"1\"}},[_vm._v(\"链接\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"2\"}},[_vm._v(\"图文\")])],1)],1)],1),_vm._v(\" \"),(_vm.ruleForm.contentType==='1')?_c('div',[_c('el-form-item',{attrs:{\"label\":\"文章链接\",\"prop\":\"link\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.ruleForm.link),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"link\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"ruleForm.link\"}})],1)],1):_c('div',{staticClass:\"editor-container-wrap\"},[_c('Tinymce',{ref:\"editor\",attrs:{\"height\":400},model:{value:(_vm.ruleForm.content),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"content\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"ruleForm.content\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"save-btn\"},[_c('el-button',{staticClass:\"btn-save-big\",attrs:{\"type\":\"primary\",\"icon\":\"el-icon-save\"},on:{\"click\":function($event){_vm.submitForm('ruleForm')}}},[_vm._v(\"保存\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e53dd688\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/operation_manage/content_manage/edit_content/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e53dd688\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e53dd688\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e53dd688\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e53dd688\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/operation_manage/content_manage/edit_content/index.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"upload-container\">\r\n    <el-button icon='el-icon-upload' size=\"mini\" :style=\"{background:color,borderColor:color}\"\r\n               @click=\" dialogVisible=true\" type=\"primary\">上传图片\r\n    </el-button>\r\n    <el-dialog append-to-body :visible.sync=\"dialogVisible\">\r\n      <el-upload class=\"editor-slide-upload\"\r\n                 :headers=\"uploadHeaders\"\r\n                 :action=\"uploadUrl\"\r\n                 :file-list=\"fileList\"\r\n                 :show-file-list=\"true\"\r\n                 list-type=\"picture-card\" :on-remove=\"handleRemove\" :on-success=\"handleSuccess\"\r\n                 :before-upload=\"beforeUpload\">\r\n        <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n      </el-upload>\r\n      <el-button type=\"primary\" class=\"btn-search btn-reset\" @click=\"dialogVisible = false\">取 消</el-button>\r\n      <el-button type=\"primary\" class=\"btn-search btn-save\" @click=\"handleSubmit\">确 定</el-button>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {mapState} from 'vuex'\r\n\r\n  export default {\r\n    computed: {\r\n      ...mapState(['gTicket'])\r\n    },\r\n    name: 'editorSlideUpload',\r\n    props: {\r\n      color: {\r\n        type: String,\r\n        default: '#1890ff'\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        uploadUrl: '',\r\n        uploadHeaders: {\r\n          gTicket: ''\r\n        },\r\n        dialogVisible: false,\r\n        listObj: {},\r\n        fileList: []\r\n      }\r\n    },\r\n    methods: {\r\n      checkAllSuccess() {\r\n        return Object.keys(this.listObj).every(item => this.listObj[item].hasSuccess)\r\n      },\r\n      handleSubmit() {\r\n        const arr = Object.keys(this.listObj).map(v => this.listObj[v])\r\n        if (!this.checkAllSuccess()) {\r\n          this.$message('请等待所有图片上传成功 或 出现了网络问题，请刷新页面重新上传！')\r\n          return\r\n        }\r\n        console.log(arr)\r\n        this.$emit('successCBK', arr)\r\n        this.listObj = {}\r\n        this.fileList = []\r\n        this.dialogVisible = false\r\n      },\r\n      handleSuccess(response, file) {\r\n        const uid = file.uid\r\n        const objKeyArr = Object.keys(this.listObj)\r\n        for (let i = 0, len = objKeyArr.length; i < len; i++) {\r\n          if (this.listObj[objKeyArr[i]].uid === uid) {\r\n            this.listObj[objKeyArr[i]].url = response.data;\r\n            this.listObj[objKeyArr[i]].hasSuccess = true\r\n            return\r\n          }\r\n        }\r\n      },\r\n      handleRemove(file) {\r\n        const uid = file.uid\r\n        const objKeyArr = Object.keys(this.listObj)\r\n        for (let i = 0, len = objKeyArr.length; i < len; i++) {\r\n          if (this.listObj[objKeyArr[i]].uid === uid) {\r\n            delete this.listObj[objKeyArr[i]]\r\n            return\r\n          }\r\n        }\r\n      },\r\n      beforeUpload(file) {\r\n        const isLt5M = file.size / 1024 / 1024 <= 20;\r\n        if (!isLt5M) {\r\n          this.$message.error(\"上传头像图片大小不能超过20MB!\");\r\n          return isLt5M;\r\n        }\r\n        const _self = this\r\n        const _URL = window.URL || window.webkitURL\r\n        const fileName = file.uid\r\n        this.listObj[fileName] = {}\r\n        return new Promise((resolve, reject) => {\r\n          const img = new Image()\r\n          img.src = _URL.createObjectURL(file)\r\n          img.onload = function () {\r\n            _self.listObj[fileName] = {hasSuccess: false, uid: file.uid, width: this.width, height: this.height}\r\n          }\r\n          resolve(true)\r\n        })\r\n      }\r\n    },\r\n    beforeMount() {\r\n      this.uploadUrl = `${this.$http.defaults.baseURL}/business/operation/image/upload`;\r\n      this.uploadHeaders.gTicket = this.gTicket;\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"less\">\r\n  .editor-slide-upload {\r\n    margin-bottom: 20px;\r\n    .el-upload--picture-card {\r\n      width: 100%;\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/operation_manage/content_manage/component/Tinymce/components/editorImage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"upload-container\"},[_c('el-button',{style:({background:_vm.color,borderColor:_vm.color}),attrs:{\"icon\":\"el-icon-upload\",\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.dialogVisible=true}}},[_vm._v(\"上传图片\\n  \")]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"append-to-body\":\"\",\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-upload',{staticClass:\"editor-slide-upload\",attrs:{\"headers\":_vm.uploadHeaders,\"action\":_vm.uploadUrl,\"file-list\":_vm.fileList,\"show-file-list\":true,\"list-type\":\"picture-card\",\"on-remove\":_vm.handleRemove,\"on-success\":_vm.handleSuccess,\"before-upload\":_vm.beforeUpload}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"点击上传\")])],1),_vm._v(\" \"),_c('el-button',{staticClass:\"btn-search btn-reset\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"btn-search btn-save\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSubmit}},[_vm._v(\"确 定\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1a1e3c5b\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/operation_manage/content_manage/component/Tinymce/components/editorImage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1a1e3c5b\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./editorImage.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./editorImage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./editorImage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1a1e3c5b\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./editorImage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/operation_manage/content_manage/component/Tinymce/components/editorImage.vue\n// module id = null\n// module chunks = ","// Any plugins you want to use has to be imported\r\n// Detail plugins list see https://www.tinymce.com/docs/plugins/\r\n// Custom builds see https://www.tinymce.com/download/custom-builds/\r\n\r\nconst plugins = ['advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools importcss insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount']\r\n\r\nexport default plugins\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/operation_manage/content_manage/component/Tinymce/plugins.js","// Here is a list of the toolbar\r\n// Detail list see https://www.tinymce.com/docs/advanced/editor-control-identifiers/#toolbarcontrols\r\n\r\nconst toolbar = ['bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample', 'hr bullist numlist link image charmap\t preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor fullscreen']\r\n\r\nexport default toolbar\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/operation_manage/content_manage/component/Tinymce/toolbar.js","<template>\r\n  <div class=\"tinymce-container editor-container\" :class=\"{fullscreen:fullscreen}\">\r\n    <textarea class=\"tinymce-textarea\" :id=\"tinymceId\"></textarea>\r\n    <div class=\"editor-custom-btn-container\">\r\n      <editorImage color=\"#1890ff\" class=\"editor-upload-btn\" @successCBK=\"imageSuccessCBK\"></editorImage>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport editorImage from './components/editorImage'\r\nimport plugins from './plugins'\r\nimport toolbar from './toolbar'\r\n\r\nexport default {\r\n  name: 'tinymce',\r\n  components: { editorImage },\r\n  props: {\r\n    id: {\r\n      type: String\r\n    },\r\n    value: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    toolbar: {\r\n      type: Array,\r\n      required: false,\r\n      default() {\r\n        return []\r\n      }\r\n    },\r\n    menubar: {\r\n      default: 'file edit insert view format table'\r\n    },\r\n    height: {\r\n      type: Number,\r\n      required: false,\r\n      default: 360\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      hasChange: false,\r\n      hasInit: false,\r\n      tinymceId: this.id || 'vue-tinymce-' + +new Date(),\r\n      fullscreen: false\r\n    }\r\n  },\r\n  watch: {\r\n    value(val) {\r\n      if (!this.hasChange && this.hasInit) {\r\n        this.$nextTick(() =>\r\n          window.tinymce.get(this.tinymceId).setContent(val || ''))\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.initTinymce()\r\n  },\r\n  activated() {\r\n    this.initTinymce()\r\n  },\r\n  deactivated() {\r\n    this.destroyTinymce()\r\n  },\r\n  methods: {\r\n    initTinymce() {\r\n      const _this = this\r\n      window.tinymce.init({\r\n        selector: `#${this.tinymceId}`,\r\n        height: this.height,\r\n        body_class: 'panel-body ',\r\n        object_resizing: false,\r\n        toolbar: this.toolbar.length > 0 ? this.toolbar : toolbar,\r\n        menubar: this.menubar,\r\n        plugins: plugins,\r\n        end_container_on_empty_block: true,\r\n        powerpaste_word_import: 'clean',\r\n        code_dialog_height: 450,\r\n        code_dialog_width: 1000,\r\n        advlist_bullet_styles: 'square',\r\n        advlist_number_styles: 'default',\r\n        imagetools_cors_hosts: ['www.tinymce.com', 'codepen.io'],\r\n        default_link_target: '_blank',\r\n        link_title: false,\r\n        nonbreaking_force_tab: true, // inserting nonbreaking space &nbsp; need Nonbreaking Space Plugin\r\n        init_instance_callback: editor => {\r\n          if (_this.value) {\r\n            editor.setContent(_this.value)\r\n          }\r\n          _this.hasInit = true\r\n          editor.on('NodeChange Change KeyUp SetContent', () => {\r\n            this.hasChange = true\r\n            this.$emit('input', editor.getContent())\r\n          })\r\n        },\r\n        setup(editor) {\r\n          editor.on('FullscreenStateChanged', (e) => {\r\n            _this.fullscreen = e.state\r\n          })\r\n        }\r\n        // 整合七牛上传\r\n        // images_dataimg_filter(img) {\r\n        //   setTimeout(() => {\r\n        //     const $image = $(img);\r\n        //     $image.removeAttr('width');\r\n        //     $image.removeAttr('height');\r\n        //     if ($image[0].height && $image[0].width) {\r\n        //       $image.attr('data-wscntype', 'image');\r\n        //       $image.attr('data-wscnh', $image[0].height);\r\n        //       $image.attr('data-wscnw', $image[0].width);\r\n        //       $image.addClass('wscnph');\r\n        //     }\r\n        //   }, 0);\r\n        //   return img\r\n        // },\r\n        // images_upload_handler(blobInfo, success, failure, progress) {\r\n        //   progress(0);\r\n        //   const token = _this.$store.getters.token;\r\n        //   getToken(token).then(response => {\r\n        //     const url = response.data.qiniu_url;\r\n        //     const formData = new FormData();\r\n        //     formData.append('token', response.data.qiniu_token);\r\n        //     formData.append('key', response.data.qiniu_key);\r\n        //     formData.append('file', blobInfo.blob(), url);\r\n        //     upload(formData).then(() => {\r\n        //       success(url);\r\n        //       progress(100);\r\n        //     })\r\n        //   }).catch(err => {\r\n        //     failure('出现未知问题，刷新页面，或者联系程序员')\r\n        //     console.log(err);\r\n        //   });\r\n        // },\r\n      })\r\n    },\r\n    destroyTinymce() {\r\n      if (window.tinymce.get(this.tinymceId)) {\r\n        window.tinymce.get(this.tinymceId).destroy()\r\n      }\r\n    },\r\n    setContent(value) {\r\n      window.tinymce.get(this.tinymceId).setContent(value)\r\n    },\r\n    getContent() {\r\n      window.tinymce.get(this.tinymceId).getContent()\r\n    },\r\n    imageSuccessCBK(arr) {\r\n      const _this = this\r\n      arr.forEach(v => {\r\n        window.tinymce.get(_this.tinymceId).insertContent(`<img class=\"wscnph\" src=\"${v.url}\" >`)\r\n      })\r\n    }\r\n  },\r\n  destroyed() {\r\n    this.destroyTinymce()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.tinymce-container {\r\n  position: relative;\r\n}\r\n.tinymce-container>>>.mce-fullscreen {\r\n  z-index: 10000;\r\n}\r\n.tinymce-textarea {\r\n  visibility: hidden;\r\n  z-index: -1;\r\n}\r\n.editor-custom-btn-container {\r\n  position: absolute;\r\n  right: 4px;\r\n  top: 4px;\r\n  /*z-index: 2005;*/\r\n}\r\n.fullscreen .editor-custom-btn-container {\r\n  z-index: 10000;\r\n  position: fixed;\r\n}\r\n.editor-upload-btn {\r\n  display: inline-block;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/operation_manage/content_manage/component/Tinymce/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tinymce-container editor-container\",class:{fullscreen:_vm.fullscreen}},[_c('textarea',{staticClass:\"tinymce-textarea\",attrs:{\"id\":_vm.tinymceId}}),_vm._v(\" \"),_c('div',{staticClass:\"editor-custom-btn-container\"},[_c('editorImage',{staticClass:\"editor-upload-btn\",attrs:{\"color\":\"#1890ff\"},on:{\"successCBK\":_vm.imageSuccessCBK}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6bd0c284\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/operation_manage/content_manage/component/Tinymce/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6bd0c284\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6bd0c284\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6bd0c284\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/operation_manage/content_manage/component/Tinymce/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}