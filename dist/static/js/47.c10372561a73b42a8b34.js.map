{"version":3,"sources":["webpack:///src/views/operation_manage/adsense_manage/add_rental/index.vue","webpack:///./src/views/operation_manage/adsense_manage/add_rental/index.vue?0370","webpack:///./src/views/operation_manage/adsense_manage/add_rental/index.vue"],"names":["add_rental","name","data","time","pickerOptions","shortcuts","text","onClick","picker","end","Date","start","setTime","getTime","$emit","rules","marketCode","required","message","trigger","billboardCode","merchantType","merchantCode","merchantName","timeSelect","signPrice","pattern","storeNameOption","advertiseList","merchantList","merchantTypeList","desc","value","ruleForm","beginTime","endTime","duration","storeOptionDisabled","methods","getOptionData","_this","this","$http","get","operation_manage","allStore","promise_default","a","all","then","res","code","concat","toConsumableArray_default","$store","getters","currentUser","console","log","getAdvertiseOptionData","_this2","advertiseOption","selectAdvertiseOption","merchantOption","merchants","timeSelected","e","timeArr","merchantTypeSwitch","submitForm","formName","_this3","$refs","validate","valid","post","advertiseRentalList","$message","success","msg","commit","$route","$router","push","error","resetForm","resetFields","beforeMount","adsense_manage_add_rental","render","_vm","_h","$createElement","_c","_self","staticClass","_v","ref","attrs","model","label-width","inline","label-position","span","label","prop","disabled","clearable","placeholder","on","change","callback","$$v","$set","trim","expression","_l","item","index","key","marketName","staticStyle","text-align","billboardName","type","align","unlink-panels","range-separator","start-placeholder","end-placeholder","value-format","picker-options","_s","click","$event","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/47.c10372561a73b42a8b34.js","sourcesContent":["<template>\r\n  <div class=\"contract-receipts add-rental\">\r\n    <div class=\"main-title\">\r\n      <!--<span class=\"el-icon-back back-btn\" @click=\"$router.go(-1)\"></span>-->\r\n      出租登记\r\n    </div>\r\n    <br>\r\n    <el-form class=\"c-search-form\" :rules=\"rules\" :model=\"ruleForm\" ref=\"ruleForm\" label-width=\"102px\" :inline=\"true\"\r\n             label-position=\"right\">\r\n      <el-row>\r\n        <el-col :span=\"8\">\r\n          <el-form-item label=\"商场\" prop=\"marketCode\">\r\n            <el-select v-model.trim=\"ruleForm.marketCode\" :disabled=\"storeOptionDisabled\" clearable placeholder=\"请选择\" @change=\"getAdvertiseOptionData\">\r\n              <el-option\r\n                v-for=\"(item, index) in storeNameOption\"\r\n                :key=\"index\"\r\n                :label=\"item.marketName\"\r\n                :value=\"item.marketCode\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\" style=\"text-align: left\">\r\n          <el-form-item label=\"广告位\" prop=\"billboardCode\">\r\n            <el-select v-model.trim=\"ruleForm.billboardCode\" clearable placeholder=\"请选择\">\r\n              <el-option\r\n                v-for=\"(item, index) in advertiseList\"\r\n                :key=\"index\"\r\n                :label=\"item.billboardName\"\r\n                :value=\"item.billboardCode\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"8\">\r\n          <el-form-item label=\"商户类型\" prop=\"merchantType\">\r\n            <el-select v-model.trim=\"ruleForm.merchantType\" clearable placeholder=\"请选择\" @change=\"merchantTypeSwitch\">\r\n              <el-option\r\n                v-for=\"(item, index) in merchantTypeList\"\r\n                :key=\"index\"\r\n                :label=\"item.desc\"\r\n                :value=\"item.value\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\" style=\"text-align: left\">\r\n          <el-form-item label=\"投放商户\" prop=\"merchantCode\" v-if=\"ruleForm.merchantType===2\">\r\n            <el-select v-model.trim=\"ruleForm.merchantCode\" clearable placeholder=\"请选择\">\r\n              <el-option\r\n                v-for=\"(item, index) in merchantList\"\r\n                :key=\"index\"\r\n                :label=\"item.merchantName\"\r\n                :value=\"item.merchantCode\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"投放商户\" prop=\"merchantName\" v-else>\r\n            <el-input v-model.trim=\"ruleForm.merchantName\"  placeholder=\"请输入\"></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"8\" style=\"text-align: left\">\r\n          <el-form-item label=\"投放时间\" prop=\"timeSelect\">\r\n            <el-date-picker\r\n              v-model.trim=\"ruleForm.timeSelect\"\r\n              type=\"daterange\"\r\n              align=\"right\"\r\n              unlink-panels\r\n              range-separator=\"至\"\r\n              start-placeholder=\"开始日期\"\r\n              end-placeholder=\"结束日期\"\r\n              value-format=\"yyyy-MM-dd\"\r\n              @change=\"timeSelected\"\r\n              :picker-options=\"pickerOptions\">\r\n            </el-date-picker>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\" style=\"text-align: left\">\r\n          <el-form-item label=\"时长\">\r\n            <span class=\"duration-day\">{{ruleForm.duration||0}}  天</span>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"8\" style=\"text-align: left\">\r\n          <el-form-item label=\"签约价格\" prop=\"signPrice\">\r\n            <el-input clearable v-model.trim=\"ruleForm.signPrice\"></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <div class=\"save-div\">\r\n        <el-button class=\"btn-save-big\" type=\"primary\" @click=\"submitForm('ruleForm')\">保存</el-button>\r\n      </div>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import api from '@/api/operation-manage';\r\n\r\n  export default {\r\n    name:'addRental',\r\n\r\n    data() {\r\n      return {\r\n        time: '',\r\n        pickerOptions: {\r\n          shortcuts: [{\r\n            text: '最近一周',\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n              picker.$emit('pick', [start, end]);\r\n            }\r\n          }, {\r\n            text: '最近一个月',\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\r\n              picker.$emit('pick', [start, end]);\r\n            }\r\n          }, {\r\n            text: '最近三个月',\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\r\n              picker.$emit('pick', [start, end]);\r\n            }\r\n          }]\r\n        },\r\n        rules: {\r\n          marketCode: [{required: true, message: '请选择所属商场', trigger: 'change'}],\r\n          billboardCode: [{required: true, message: '请选择广告位', trigger: 'change'}],\r\n          merchantType: [{required: true, message: '请选择商户类型', trigger: 'change'}],\r\n          merchantCode: [{required: true, message: '请选择投放商户', trigger: 'change'}],\r\n          merchantName: [{required: true, message: '请输入商户名称', trigger: 'blur'}],\r\n          timeSelect: [{required: true, message: '请选择上架时间', trigger: 'change'}],\r\n          signPrice: [{required: true, message: '请输入签约价格', trigger: 'blur'},\r\n            {trigger: 'blur',pattern:/^\\d+(?:\\.\\d{1,2})?$/,message: '请输入大于等于零的数字，最多保留两位小数'}],\r\n        },\r\n        storeNameOption: [],\r\n        advertiseList: [],\r\n        merchantList: [],\r\n        merchantTypeList:[{desc:'外部商户',value:1},{desc:'内部商户',value:2}],\r\n        ruleForm: {\r\n          marketCode: '',\r\n          billboardCode: '',\r\n          merchantCode: '',\r\n          merchantName:'',\r\n          merchantType: 2,\r\n          timeSelect: '',\r\n          beginTime: '',\r\n          endTime: '',\r\n          duration: '',\r\n          signPrice: ''\r\n        },\r\n        storeOptionDisabled:false\r\n      }\r\n    },\r\n    methods: {\r\n      getOptionData() {\r\n        let storeNameOption = this.$http.get(api.allStore);\r\n        Promise.all([storeNameOption]).then(res => {\r\n          if (res[0].code === 0) {\r\n            this.storeNameOption = [];\r\n            this.storeNameOption = [...res[0].data];\r\n            let { marketCode } = this.$store.getters.currentUser;\r\n            console.log('addRental',marketCode)\r\n            if(marketCode){\r\n              this.ruleForm.marketCode=marketCode;\r\n              this.storeOptionDisabled=true;\r\n              this.getAdvertiseOptionData();\r\n            }\r\n          }\r\n        })\r\n      },\r\n      getAdvertiseOptionData() {\r\n        if (this.ruleForm.marketCode !== '') {\r\n          //广告位下拉框\r\n          let advertiseOption = this.$http.get(api.selectAdvertiseOption + `?marketCode=${this.ruleForm.marketCode}&bdStatus=`);\r\n          //商户下拉框\r\n          let merchantOption = this.$http.get(api.merchants + `?marketCode=${this.ruleForm.marketCode}`);\r\n          Promise.all([advertiseOption, merchantOption]).then(res => {\r\n            if (res[0].code === 0) {\r\n              this.advertiseList = [];\r\n              this.advertiseList = [...res[0].data];\r\n            }\r\n            if (res[1].code === 0) {\r\n              this.merchantList = [];\r\n              this.merchantList = [...res[1].data];\r\n            }\r\n          })\r\n        } else {\r\n          this.advertiseList = [];\r\n          this.merchantList = [];\r\n        }\r\n      },\r\n      timeSelected(e) {\r\n        if (e === null) {\r\n          this.ruleForm.duration = '';\r\n          this.ruleForm.beginTime = '';\r\n          this.ruleForm.endTime = '';\r\n        } else {\r\n          let timeArr = [...e];\r\n          this.ruleForm.beginTime = timeArr[0];\r\n          this.ruleForm.endTime = timeArr[1];\r\n          //计算时长\r\n          let start = new Date(timeArr[0]);\r\n          let end = new Date(timeArr[1]);\r\n          this.ruleForm.duration = ((end - start)/1000/(24 * 60 * 60)+1)+'';\r\n        }\r\n      },\r\n      merchantTypeSwitch(e){\r\n        if(e===1){\r\n          this.ruleForm.merchantCode='';\r\n        }else{\r\n          this.ruleForm.merchantName='';\r\n        }\r\n      },\r\n      submitForm(formName) {\r\n        this.$refs[formName].validate((valid) => {\r\n          if (valid) {\r\n           this.$http.post(api.advertiseRentalList,this.ruleForm).then(res=>{\r\n             if(res.code===0){\r\n               this.$message.success(res.msg);\r\n               this.$store.commit(\"delete_tabs\", this.$route);\r\n               this.$router.push('/operation/rental');\r\n             }else{\r\n               this.$message.error(res.msg);\r\n             }\r\n           })\r\n          } else {\r\n            console.log('error submit!!');\r\n            return false;\r\n          }\r\n        });\r\n      },\r\n      resetForm(formName) {\r\n        this.$refs[formName].resetFields();\r\n      },\r\n    },\r\n    beforeMount() {\r\n      this.getOptionData()\r\n    },\r\n   /* watch: {\r\n      '$route' (to, from) {\r\n        if(to.path === '/operation/rental/addRental'){\r\n          Object.assign(this.ruleForm,this.$options.data().ruleForm);\r\n          this.getOptionData();\r\n          setTimeout(()=>{\r\n            this.$refs['ruleForm'].clearValidate();\r\n          },20)\r\n        }\r\n      }\r\n    }*/\r\n  };\r\n</script>\r\n<style lang=\"less\" scoped>\r\n  .contract-receipts {\r\n    .footer-btn {\r\n      width: 342px;\r\n      text-align: right;\r\n    }\r\n  }\r\n\r\n  .unit-div {\r\n    margin-top: 30px;\r\n    text-align: right;\r\n  }\r\n\r\n  .save-div {\r\n    width: 60%;\r\n    text-align: center;\r\n    margin-top: 30px;\r\n  }\r\n</style>\r\n<style lang=\"less\">\r\n  .add-rental {\r\n    .main-title {\r\n      width: 60%;\r\n      height: 28px;\r\n      line-height: 28px;\r\n      font-size: 16px;\r\n      color: #444444;\r\n      font-weight: bold;\r\n      text-align: center;\r\n      margin-bottom: 30px;\r\n      .back-btn {\r\n        display: inline-block;\r\n        width: 27px;\r\n        height: 27px;\r\n        line-height: 27px;\r\n        border: 1px solid #EBEBEB;\r\n        border-radius: 50%;\r\n        color: #EBEBEB;\r\n        cursor: pointer;\r\n        font-weight: bold;\r\n        float: left;\r\n      }\r\n    }\r\n    .duration-day {\r\n      display: inline-block;\r\n      text-indent: 10px;\r\n      white-space: pre;\r\n    }\r\n    .el-input.is-disabled .el-input__inner{\r\n      height: 36px!important;\r\n    }\r\n    .el-date-editor--daterange.el-input__inner{\r\n      width: 270px;\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/operation_manage/adsense_manage/add_rental/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"contract-receipts add-rental\"},[_c('div',{staticClass:\"main-title\"},[_vm._v(\"\\n    出租登记\\n  \")]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('el-form',{ref:\"ruleForm\",staticClass:\"c-search-form\",attrs:{\"rules\":_vm.rules,\"model\":_vm.ruleForm,\"label-width\":\"102px\",\"inline\":true,\"label-position\":\"right\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"商场\",\"prop\":\"marketCode\"}},[_c('el-select',{attrs:{\"disabled\":_vm.storeOptionDisabled,\"clearable\":\"\",\"placeholder\":\"请选择\"},on:{\"change\":_vm.getAdvertiseOptionData},model:{value:(_vm.ruleForm.marketCode),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"marketCode\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"ruleForm.marketCode\"}},_vm._l((_vm.storeNameOption),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.marketName,\"value\":item.marketCode}})}))],1)],1),_vm._v(\" \"),_c('el-col',{staticStyle:{\"text-align\":\"left\"},attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"广告位\",\"prop\":\"billboardCode\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.ruleForm.billboardCode),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"billboardCode\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"ruleForm.billboardCode\"}},_vm._l((_vm.advertiseList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.billboardName,\"value\":item.billboardCode}})}))],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"商户类型\",\"prop\":\"merchantType\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\"},on:{\"change\":_vm.merchantTypeSwitch},model:{value:(_vm.ruleForm.merchantType),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"merchantType\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"ruleForm.merchantType\"}},_vm._l((_vm.merchantTypeList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.desc,\"value\":item.value}})}))],1)],1),_vm._v(\" \"),_c('el-col',{staticStyle:{\"text-align\":\"left\"},attrs:{\"span\":8}},[(_vm.ruleForm.merchantType===2)?_c('el-form-item',{attrs:{\"label\":\"投放商户\",\"prop\":\"merchantCode\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.ruleForm.merchantCode),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"merchantCode\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"ruleForm.merchantCode\"}},_vm._l((_vm.merchantList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.merchantName,\"value\":item.merchantCode}})}))],1):_c('el-form-item',{attrs:{\"label\":\"投放商户\",\"prop\":\"merchantName\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.ruleForm.merchantName),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"merchantName\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"ruleForm.merchantName\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{staticStyle:{\"text-align\":\"left\"},attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"投放时间\",\"prop\":\"timeSelect\"}},[_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"align\":\"right\",\"unlink-panels\":\"\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"value-format\":\"yyyy-MM-dd\",\"picker-options\":_vm.pickerOptions},on:{\"change\":_vm.timeSelected},model:{value:(_vm.ruleForm.timeSelect),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"timeSelect\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"ruleForm.timeSelect\"}})],1)],1),_vm._v(\" \"),_c('el-col',{staticStyle:{\"text-align\":\"left\"},attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"时长\"}},[_c('span',{staticClass:\"duration-day\"},[_vm._v(_vm._s(_vm.ruleForm.duration||0)+\"  天\")])])],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{staticStyle:{\"text-align\":\"left\"},attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"签约价格\",\"prop\":\"signPrice\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.ruleForm.signPrice),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"signPrice\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"ruleForm.signPrice\"}})],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"save-div\"},[_c('el-button',{staticClass:\"btn-save-big\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.submitForm('ruleForm')}}},[_vm._v(\"保存\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-51f0420c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/operation_manage/adsense_manage/add_rental/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-51f0420c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-51f0420c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-51f0420c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-51f0420c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/operation_manage/adsense_manage/add_rental/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}