webpackJsonp([65],{BVtJ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("4YfN"),l=a.n(n),r=a("eMGh"),i=a("2A+d"),s=a("FTcF"),o=a("TIfe"),c=a("hm3b"),m={name:"maintenance",data:function(){return{dialogFormVisible1:!1,dialogFormVisible2:!1,categotyListFir:[],reqData:{marketCode:"",rankId:""},pageparams:{currentPage:""},itemList:[],fileList1:[],fileList2:[],title:""}},components:{selectMarket:s.a,pagenation:c.a},created:function(){this.handleCategory("-1","categotyListFir"),this.getData(1)},methods:{rightControl:function(e){return this.$store.getters.getPermission(e)},search:function(){this.getData()},getData:function(e){e=e||"";var t=l()({},this.reqData,{currentPage:e});Object(o.b)(e,t,i.a.maintenance,this)},handleCategory:function(e,t){var a=this;this.$http({url:r.b.deviceCategory,method:"get",params:{parentId:e}}).then(function(e){e&&0==e.code&&(a[t]=e.data)})},handlePage:function(e){this.getData(e)},deleteData:function(e){var t=this;this.$confirm("此操作将永久删除该条, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$http.delete(i.a.maintenance+"/"+e,{params:{maintenance:e}}).then(function(e){e&&0==e.code&&(t.$message({type:"success",message:e.msg}),t.getData(t.pageparams.currentPage))})}).catch(function(){})}}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"g-assistant-manage"},[a("el-form",{ref:"reqData",staticClass:"c-search-form",attrs:{model:e.reqData,"label-width":"102px",inline:!0,"label-position":"right"}},[a("el-row",[a("el-col",{attrs:{span:8,xs:24}},[a("el-form-item",{attrs:{label:"商场",prop:"marketCode"}},[a("select-market",{attrs:{reqData:e.reqData}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8,xs:24}},[a("el-form-item",{attrs:{label:"商户",prop:"rankId"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.reqData.rankId,callback:function(t){e.$set(e.reqData,"rankId",t)},expression:"reqData.rankId"}},e._l(e.categotyListFir,function(e,t){return a("el-option",{key:t,attrs:{label:e.rankName,value:e.rankId}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:8,xs:24}},[a("el-form-item",{attrs:{label:"手机号",prop:"equipmentCode"}},[a("el-input",{attrs:{clearable:"",placeholder:"设备唯一标识"},model:{value:e.reqData.equipmentCode,callback:function(t){e.$set(e.reqData,"equipmentCode","string"==typeof t?t.trim():t)},expression:"reqData.equipmentCode"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8,offset:16}},[a("div",{staticClass:"c-footer-btn"},[a("el-button",{staticClass:"btn-search",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("查询")])],1)])],1)],1),e._v(" "),a("div",{staticClass:"c-table-wrap"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.itemList,align:"center",height:"500",stripe:""}},[a("el-table-column",{attrs:{align:"center",prop:"maintenanceId","min-width":"160",label:"序号"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"marketName",label:"所属商场"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"rankName",label:"所属商户"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"equipmentName",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"equipmentCode","min-width":"160",label:"手机号"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"maintenanceCompany",label:"性别"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"maintenancePerson",label:"年龄"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"maintenanceCost","min-width":"160",label:"身份证号"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"beginTime","min-width":"165",label:"常住地址"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"maintenancePerson",label:"在职状态"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"beginTime","min-width":"165",label:"入职时间"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"endTime","min-width":"165",label:"离职时间"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"createName",label:"登记人"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"createTime","min-width":"165",label:"登记时间"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",fixed:"right","min-width":"165"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.rightControl("maintenance_delete"),expression:"rightControl('maintenance_delete')"}],staticClass:"btn-handle btn-add",attrs:{type:"primary"},on:{click:function(a){e.deleteData(t.row.maintenanceId)}}},[e._v("\n              删除\n          ")])]}}])})],1)],1),e._v(" "),a("pagenation",{attrs:{pageparams:e.pageparams,itemList:e.itemList},on:{handlePage:e.handlePage}})],1)},staticRenderFns:[]};var d=a("vSla")(m,p,!1,function(e){a("V8ZK"),a("U2GX")},"data-v-19dcadf4",null);t.default=d.exports},U2GX:function(e,t){},V8ZK:function(e,t){}});
//# sourceMappingURL=65.1bb0dfde05bdfaf9e107.js.map