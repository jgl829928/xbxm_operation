webpackJsonp([99],{dqKr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("4YfN"),n=a.n(r),o=a("2A+d"),s={name:"contractType",data:function(){return{dialogFormVisible:!1,itemList:[],form:{contractTypeName:""},rules:{contractTypeName:[{required:!0,message:"请输入内容",trigger:"blur"},{max:20,message:"请输入内容限制在20字内",trigger:"blur"}]},formLabelWidth:"120px"}},created:function(){this.getData()},watch:{dialogFormVisible:function(t,e){var a=this;this.$nextTick(function(){a.$refs.form.resetFields()},0)}},methods:{rightControl:function(t){return this.$store.getters.getPermission(t)},addcontract_type:function(){this.dialogFormVisible=!0},indexMethod:function(t){return t+20*(this.reqData.page-1)+1},getData:function(){var t=this;this.$http.get(o.a.constractsList).then(function(e){e&&(t.itemList=e.data)})},contractAdd:function(t){var e=this;this.$refs[t].validate(function(t){t&&e.$http.post(o.a.constractsList,n()({},e.form)).then(function(t){if(t){if(0!=t.code)return e.$message.error(t.msg);e.$message.success(t.msg),e.getData(),e.dialogFormVisible=!1}})})},contractDel:function(t){var e=this;this.$confirm("此操作将永久删除该数据, 是否继续?","删除",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$http.delete(o.a.constractsList+"/"+t).then(function(t){t&&(0==t.code?(e.$message({type:"success",message:t.msg}),e.getData()):e.$message.error(t.msg))})}).catch(function(t){})},reset:function(){this.dialogFormVisible=!1}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"g-contract-type"},[a("el-row",[a("el-col",{directives:[{name:"show",rawName:"v-show",value:t.rightControl("contractType_add"),expression:"rightControl('contractType_add')"}],attrs:{span:8}},[a("el-button",{staticClass:"btn-search btn-add",attrs:{type:"primary"},on:{click:t.addcontract_type}},[t._v("添加")])],1)],1),t._v(" "),a("el-dialog",{staticClass:"s-dialog",attrs:{title:"合同类型-添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules}},[a("el-form-item",{attrs:{label:"合同类型名称","label-width":"105px",prop:"contractTypeName"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.contractTypeName,callback:function(e){t.$set(t.form,"contractTypeName","string"==typeof e?e.trim():e)},expression:"form.contractTypeName"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"btn-save",attrs:{type:"primary"},on:{click:function(e){t.contractAdd("form")}}},[t._v("确 定")]),t._v(" "),a("el-button",{staticClass:"btn-reset",on:{click:function(e){t.reset("form")}}},[t._v("取 消")])],1)],1),t._v(" "),a("div",{staticClass:"c-table-wrap"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.itemList,height:"500",stripe:""}},[a("el-table-column",{attrs:{align:"center",prop:"contractTypeName",label:"合同类型名称"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"createTime",label:"创建时间"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"createUserName",label:"创建人"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",fixed:"right","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"btn-handle btn-add",attrs:{type:"primary",disabled:!t.rightControl("contractType_delete")},on:{click:function(a){t.contractDel(e.row.contractTypeCode)}}},[t._v("\n                删除\n            ")])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"pagination-box"})],1)},staticRenderFns:[]},c=a("vSla")(s,i,!1,null,null,null);e.default=c.exports}});
//# sourceMappingURL=99.41d772cea5d5f6e06a3f.js.map