{"version":3,"sources":["webpack:///src/views/basic_info/audit_process/index.vue","webpack:///./src/views/basic_info/audit_process/index.vue?f92e","webpack:///./src/views/basic_info/audit_process/index.vue"],"names":["audit_process","name","data","dialogFormVisibleL","dialogVisibleM","reqData","auditTypeCode","auditType","marketCode","areaCode","roleNames","roleName","itemList","form","auditInfo","auditTypeList","label","value","rules","required","message","trigger","reqBdata","formLabelWidth","areaList","marketList","auditorList","checkPost","created","this","getData","getRoles","handleCascader","apiSetting","cascaderMarket","methods","rightControl","id","$store","getters","getPermission","_this2","$http","get","basicApi_estateApi","auditsRoles","then","res","code","reset","_this3","$refs","resetFields","setTimeout","clearValidate","addcontract_type","_this4","marketSearch","$nextTick","window","localStorage","setItem","length","Object","auth","map","item","handleSave","formName","_this5","validate","valid","extends_default","handleData","data2","method","_this6","url","audits","$message","success","msg","error","removeDomain","index","indexOf","splice","addDomain","push","checkInfo","undefined","val","list","_this7","params","changeMarket","basic_info_audit_process","render","_vm","_h","$createElement","_c","_self","staticClass","directives","rawName","expression","attrs","span","type","on","click","$event","_v","title","visible","update:visible","close","ref","model","label-width","inline","label-position","prop","clearable","placeholder","disabled","callback","$$v","$set","_l","key","change","areaName","marketName","domain","preventDefault","_e","slot","staticStyle","width","align","height","stripe","scopedSlots","_u","fn","scope","_s","row","min-width","fixed","space","align-center","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/46.7645ea81e0498178ee24.js","sourcesContent":["<template>\r\n  <div class=\"g-audit-process\">\r\n      <el-row>\r\n        <el-col :span=\"8\" v-show=\"rightControl('auditProcess_add')\">\r\n             <el-button class=\"btn-search btn-add\" type=\"primary\" @click=\"addcontract_type(1)\">添加</el-button>\r\n        </el-col>\r\n      </el-row>\r\n <el-dialog title=\"审核流程\" :visible.sync=\"dialogFormVisibleL\" class=\"l-dialog\" @close=\"reset\">\r\n    \t <el-form  class=\"c-search-form\" :model=\"reqData\" :rules=\"rules\" ref=\"reqData\" label-width=\"102px\" :inline=\"true\"\r\n              label-position=\"right\">\r\n\t\t <el-row>\r\n        <el-col :span=\"12\">\r\n          <el-form-item label=\"流程类型\" prop=\"auditType\">\r\n            <el-select v-model=\"reqData.auditType\" clearable placeholder=\"请选择\" :disabled=\"!checkPost\">\r\n              <el-option\r\n                v-for=\"(item, index) in auditTypeList\"\r\n                :key=\"index\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          </el-col>\r\n        <el-col :span=\"12\">\r\n          <el-form-item label=\"所在省市\" prop=\"areaCode\">\r\n            <el-select v-model=\"reqData.areaCode\" clearable placeholder=\"请选择\" @change=\"changeMarket(reqData.areaCode)\" :disabled=\"!checkPost\">\r\n              <el-option\r\n                v-for=\"(item, index) in areaList\"\r\n                :key=\"index\"\r\n                :label=\"item.areaName\"\r\n                :value=\"item.areaCode\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n       <el-row >\r\n        <el-col :span=\"12\">\r\n          <el-form-item label=\"商场名称\" prop=\"marketCode\">\r\n            <el-select v-model=\"reqData.marketCode\" clearable placeholder=\"请选择\" :disabled=\"!checkPost\">\r\n              <el-option\r\n                v-for=\"(item, index) in marketList\"\r\n                :key=\"index\"\r\n                :label=\"item.marketName\"\r\n                :value=\"item.marketCode\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          </el-col>\r\n      </el-row>\r\n    <el-row  class=\"u-area-input\">\r\n      <el-col :span=\"3\" class=\"u-center\">\r\n    \t<span>流程审核</span>\r\n     </el-col>\r\n    <el-col :span=\"19\" class=\"u-domain\">\r\n\t\t\t  <el-form-item\r\n    v-for=\"(domain, index) in reqData.roleNames\"\r\n    :label=\"'审核人' + (index+1)\"\r\n    :key=\"index\"\r\n    :prop=\"'roleNames.' + index + '.roleName'\"\r\n    :rules=\"{\r\n      required: true, message: '审核人不能为空', trigger: 'change'\r\n    }\"\r\n    label-width=\"70px\"\r\n  >\r\n    <el-select v-model=\"domain.roleName\" clearable placeholder=\"请选择\" >\r\n              <el-option\r\n                v-for=\"(item, index) in auditorList\"\r\n                :key=\"index\"\r\n                :label=\"item.roleName\"\r\n                :value=\"item.roleName\">\r\n              </el-option>\r\n            </el-select>\r\n            <i class=\"el-icon-remove-outline u-del\" v-if=\"index != 0\" @click.prevent=\"removeDomain(domain)\"></i>\r\n            <i class=\"el-icon-circle-plus-outline u-add\" @click=\"addDomain\" v-if=\"index == 0\"></i>\r\n  </el-form-item>\r\n</el-col>\r\n</el-row>\r\n</el-form>\r\n    \r\n     <div slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button class=\"btn-save\" type=\"primary\"  @click=\"handleSave('reqData')\">保存</el-button>\r\n             <el-button class=\"btn-reset\" type=\"primary\" @click=\"reset\">取消</el-button>\r\n          </div>\r\n</el-dialog>\r\n    <div class=\"c-table-wrap\">\r\n      <el-table\r\n        :data=\"itemList\"\r\n        style=\"width: 100%\"\r\n        align=\"center\"\r\n        height=\"500\"\r\n        stripe>\r\n        <el-table-column\r\n          align=\"center\"\r\n          type=\"index\"\r\n          label=\"序号\"\r\n          width=\"50\">\r\n        </el-table-column>\r\n        <el-table-column\r\n          align=\"center\"\r\n          prop=\"auditTypeCode\"\r\n          label=\"流程编号\">\r\n        </el-table-column>\r\n        <el-table-column\r\n          align=\"center\"\r\n          prop=\"auditType\"\r\n          label=\"流程类型\">\r\n          <template slot-scope=\"scope\">\r\n            <div v-for=\"(item,index) in auditTypeList\" :key=\"index\">\r\n              {{scope.row.auditType == item.value?item.label:\"\"}}\r\n            </div>  \r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          align=\"center\"\r\n          prop=\"marketName\"\r\n          label=\"商场名称\">\r\n        </el-table-column>\r\n        <el-table-column\r\n          align=\"center\"\r\n          prop=\"areaName\"\r\n          label=\"所在省市\">\r\n      </el-table-column>\r\n          <el-table-column\r\n          align=\"center\"\r\n          prop=\"createTime\"\r\n          min-width=\"165px\"\r\n          label=\"登记时间\">\r\n        </el-table-column>\r\n        <el-table-column\r\n          align=\"center\"\r\n          prop=\"createUserName\"\r\n          label=\"登记人\">\r\n        </el-table-column>\r\n        <el-table-column\r\n          align=\"center\"\r\n          prop=\"updateTime\"\r\n          min-width=\"165px\"\r\n          label=\"修改时间\">\r\n        </el-table-column>\r\n        <el-table-column\r\n          align=\"center\"\r\n          prop=\"updateUserName\"\r\n          label=\"修改人\">\r\n        </el-table-column>\r\n        </el-table-column>\r\n        <el-table-column\r\n          align=\"center\"\r\n          label=\"操作\"\r\n          fixed=\"right\"\r\n          min-width=\"200\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button class=\"btn-handle\" type=\"primary\" @click=\"addcontract_type(scope.row)\" :disabled=\"!rightControl('auditProcess_edit')\">\r\n                修改\r\n            </el-button>\r\n            <el-button class=\"btn-handle\" type=\"primary\" @click=\"checkInfo(scope.row.roleNames)\" :disabled=\"!rightControl('auditProcess_info')\">\r\n                详情\r\n            </el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <el-dialog\r\n  title=\"提示\"\r\n  :visible.sync=\"dialogVisibleM\"\r\n  width=\"30%\"\r\n   class=\"m-dialog el-steps-dialog\">\r\n  <el-steps :space=\"200\" align-center>\r\n  <el-step :title=\"item\" v-for=\"(item,index) in auditInfo\" :key=\"index\"></el-step>\r\n</el-steps>\r\n     <div slot=\"footer\" class=\"dialog-footer\">\r\n    <el-button type=\"primary\"  @click=\"dialogVisibleM = false\" class=\"btn-close\">关闭</el-button>\r\n  </div>\r\n</el-dialog>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ApiSetting from '@/api/basicApi-estateApi'\r\nimport ApiSettingCom from '@/api/apiSetting'\r\nimport {getDataAll,keysFilter} from '@/utils/auth'\r\nexport default {\r\n  name:'auditProcess',\r\n  data() {\r\n    return {\r\n      dialogFormVisibleL:false,\r\n      dialogVisibleM:false,\r\n      reqData:{\r\n        auditTypeCode:'',\r\n        auditType:'',\r\n        marketCode:'',\r\n        areaCode:'',\r\n        roleNames: [{roleName:''}],\r\n      },\r\n      itemList:[\r\n      \r\n      ],\r\n      form:{\r\n        name:''\r\n      },\r\n      auditInfo:[],\r\n      auditTypeList:[\r\n        {label: '指标任务审核流程', value: 1},\r\n        {label: '合同常规审核流程', value: 2},\r\n        {label: '合同终止审核流程', value: 3},\r\n        {label: '合同非常规审核流程', value: 4},\r\n        {label: '合同费用退款审核流程', value: 5},\r\n        {label: '日常费用退款审核流程', value: 6},\r\n      ],\r\n      rules:{\r\n        marketCode:[{ required: true, message: '请选择商场', trigger: 'change' }],\r\n        areaCode:[{ required: true, message: '请选择所在省市', trigger: 'change' }],\r\n        auditType:[{ required: true, message: '请选择商场名称', trigger: 'change' }],\r\n      },\r\n      reqBdata:{\r\n        auditTypeCode:'',\r\n        auditType:'',\r\n        marketCode:'',\r\n        areaCode:'',\r\n        roleNames: [{roleName:''}],\r\n      },\r\n      formLabelWidth: '120px',\r\n      areaList:[],\r\n      marketList:[],\r\n      auditorList:[\r\n      ],\r\n      checkPost:\"\",\r\n    }\r\n  },\r\n  created(){\r\n    this.getData()\r\n    this.getRoles()\r\n    this.handleCascader(null,'areaList',ApiSettingCom.cascaderMarket)\r\n  },\r\n  methods: {\r\n     // 权限判断\r\n    rightControl (id) {\r\n      return this.$store.getters.getPermission(id)\r\n    },\r\n    //获取审核角色\r\n    getRoles(){\r\n      this.$http.get(ApiSetting.auditsRoles).then(res => {\r\n        if(res && res.code == 0 && res.data){\r\n          this.auditorList = res.data\r\n        }\r\n      })\r\n    },\r\n    reset(){\r\n      this.dialogFormVisibleL = false\r\n      // if(!this.checkPost){\r\n      //   var len = window.localStorage.getItem('roleNamesLen')\r\n      //   this.reqData.roleNames.splice(len)\r\n      // }\r\n      this.marketList = []\r\n      this.$refs['reqData'].resetFields();\r\n      setTimeout(() => {\r\n        this.$refs['reqData'].clearValidate();\r\n      },20)\r\n    },\r\n   addcontract_type(data){\r\n    let _this = this\r\n    this.dialogFormVisibleL = true\r\n    if(data != 1){\r\n      this.checkPost = false\r\n      this.handleCascader(data.areaCode,'marketList',ApiSettingCom.marketSearch)\r\n      this.$nextTick(() => {\r\n        window.localStorage.setItem('roleNamesLen',data.roleNames.length)\r\n        this.reqData = keysFilter(data,true,['createTime','createUser','createUserName','updateTime','updateUser','updateUserName'])\r\n        this.reqData.roleNames = this.reqData.roleNames.map(item => {\r\n          return {roleName:item}\r\n        })\r\n     })\r\n  \r\n    }else{\r\n      this.checkPost = true\r\n      this.reqData = keysFilter(this.reqBdata,true,'')\r\n    }\r\n   },\r\n   handleSave(formName){\r\n    this.$refs[formName].validate((valid) => {\r\n          if (valid) {\r\n            let reqData = keysFilter(this.reqData,true,'roleNames')\r\n            let roleNames = this.reqData.roleNames.map(item => {\r\n                return item.roleName\r\n              })\r\n           if(this.checkPost){\r\n              let data={...this.reqData,roleNames:roleNames}\r\n              this.handleData('post','',data)\r\n            }else{\r\n              let data2=roleNames\r\n              this.handleData('put',this.reqData.auditTypeCode,data2)\r\n            }\r\n            \r\n          } else {\r\n            return false;\r\n          }\r\n        });\r\n   },\r\n   handleData(method,code,data){\r\n    this.$http({\r\n      url:`${ApiSetting.audits}/${code}`,\r\n      method:method,\r\n      data:data\r\n    }).then(res => {\r\n              if(res){\r\n                if(res.code == 0){\r\n                  this.$message.success(res.msg)\r\n                  this.dialogFormVisibleL = false\r\n                  this.getData()\r\n                }else{\r\n                  this.$message.error(res.msg)\r\n                }\r\n              }\r\n            })\r\n   },\r\n    //删除dom\r\n    removeDomain(item) {\r\n        var index = this.reqData.roleNames.indexOf(item)\r\n        if (index !== -1) {\r\n          this.reqData.roleNames.splice(index, 1)\r\n        }\r\n      },\r\n      //添加dom\r\n      addDomain() {\r\n        this.reqData.roleNames.push({roleName:''});\r\n        if(this.reqData.roleNames.length > 10){\r\n           this.reqData.roleNames.length = 10\r\n          this.$message.error('最多只能添加10个审核')\r\n        }\r\n      },\r\n      checkInfo(data){\r\n        this.dialogVisibleM = true \r\n        this.auditInfo = data\r\n      },\r\n      getData(){\r\n        var _this = this\r\n        getDataAll(undefined,undefined,ApiSetting.audits,_this)\r\n      },\r\n          //联动\r\n    handleCascader(val,list,url){\r\n         this.$http({\r\n        url:url,\r\n        method:'get',\r\n        params:{areaCode:val}\r\n      }).then(res => {\r\n        if(res){\r\n          if(res.code == 0) {\r\n            this[list] = res.data\r\n          }\r\n        }\r\n      })\r\n    },\r\n     changeMarket(data){\r\n        this.reqData.marketCode = \"\"\r\n            if(!data){\r\n        this.marketList = []\r\n      }else{\r\n         this.handleCascader(data,'marketList',ApiSettingCom.marketSearch)\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\">\r\n\t@import './index-element.less';\r\n</style>\r\n<style lang=\"less\" scoped>\r\n  .u-center {\r\n    text-align: right;\r\n    padding-right: 4px !important;\r\n    margin-left: 16px;\r\n    margin-top: 10px;\r\n    span:before {\r\n      content: '*';\r\n      color: #f56c6c;\r\n      margin-right: 4px;\r\n    }\r\n  }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/basic_info/audit_process/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"g-audit-process\"},[_c('el-row',[_c('el-col',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.rightControl('auditProcess_add')),expression:\"rightControl('auditProcess_add')\"}],attrs:{\"span\":8}},[_c('el-button',{staticClass:\"btn-search btn-add\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.addcontract_type(1)}}},[_vm._v(\"添加\")])],1)],1),_vm._v(\" \"),_c('el-dialog',{staticClass:\"l-dialog\",attrs:{\"title\":\"审核流程\",\"visible\":_vm.dialogFormVisibleL},on:{\"update:visible\":function($event){_vm.dialogFormVisibleL=$event},\"close\":_vm.reset}},[_c('el-form',{ref:\"reqData\",staticClass:\"c-search-form\",attrs:{\"model\":_vm.reqData,\"rules\":_vm.rules,\"label-width\":\"102px\",\"inline\":true,\"label-position\":\"right\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"流程类型\",\"prop\":\"auditType\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\",\"disabled\":!_vm.checkPost},model:{value:(_vm.reqData.auditType),callback:function ($$v) {_vm.$set(_vm.reqData, \"auditType\", $$v)},expression:\"reqData.auditType\"}},_vm._l((_vm.auditTypeList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.label,\"value\":item.value}})}))],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"所在省市\",\"prop\":\"areaCode\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\",\"disabled\":!_vm.checkPost},on:{\"change\":function($event){_vm.changeMarket(_vm.reqData.areaCode)}},model:{value:(_vm.reqData.areaCode),callback:function ($$v) {_vm.$set(_vm.reqData, \"areaCode\", $$v)},expression:\"reqData.areaCode\"}},_vm._l((_vm.areaList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.areaName,\"value\":item.areaCode}})}))],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"商场名称\",\"prop\":\"marketCode\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\",\"disabled\":!_vm.checkPost},model:{value:(_vm.reqData.marketCode),callback:function ($$v) {_vm.$set(_vm.reqData, \"marketCode\", $$v)},expression:\"reqData.marketCode\"}},_vm._l((_vm.marketList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.marketName,\"value\":item.marketCode}})}))],1)],1)],1),_vm._v(\" \"),_c('el-row',{staticClass:\"u-area-input\"},[_c('el-col',{staticClass:\"u-center\",attrs:{\"span\":3}},[_c('span',[_vm._v(\"流程审核\")])]),_vm._v(\" \"),_c('el-col',{staticClass:\"u-domain\",attrs:{\"span\":19}},_vm._l((_vm.reqData.roleNames),function(domain,index){return _c('el-form-item',{key:index,attrs:{\"label\":'审核人' + (index+1),\"prop\":'roleNames.' + index + '.roleName',\"rules\":{\n      required: true, message: '审核人不能为空', trigger: 'change'\n    },\"label-width\":\"70px\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\"},model:{value:(domain.roleName),callback:function ($$v) {_vm.$set(domain, \"roleName\", $$v)},expression:\"domain.roleName\"}},_vm._l((_vm.auditorList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.roleName,\"value\":item.roleName}})})),_vm._v(\" \"),(index != 0)?_c('i',{staticClass:\"el-icon-remove-outline u-del\",on:{\"click\":function($event){$event.preventDefault();_vm.removeDomain(domain)}}}):_vm._e(),_vm._v(\" \"),(index == 0)?_c('i',{staticClass:\"el-icon-circle-plus-outline u-add\",on:{\"click\":_vm.addDomain}}):_vm._e()],1)}))],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{staticClass:\"btn-save\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.handleSave('reqData')}}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"btn-reset\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.reset}},[_vm._v(\"取消\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"c-table-wrap\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.itemList,\"align\":\"center\",\"height\":\"500\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"type\":\"index\",\"label\":\"序号\",\"width\":\"50\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"auditTypeCode\",\"label\":\"流程编号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"auditType\",\"label\":\"流程类型\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _vm._l((_vm.auditTypeList),function(item,index){return _c('div',{key:index},[_vm._v(\"\\n              \"+_vm._s(scope.row.auditType == item.value?item.label:\"\")+\"\\n            \")])})}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"marketName\",\"label\":\"商场名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"areaName\",\"label\":\"所在省市\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"createTime\",\"min-width\":\"165px\",\"label\":\"登记时间\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"createUserName\",\"label\":\"登记人\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"updateTime\",\"min-width\":\"165px\",\"label\":\"修改时间\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"updateUserName\",\"label\":\"修改人\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\",\"fixed\":\"right\",\"min-width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{staticClass:\"btn-handle\",attrs:{\"type\":\"primary\",\"disabled\":!_vm.rightControl('auditProcess_edit')},on:{\"click\":function($event){_vm.addcontract_type(scope.row)}}},[_vm._v(\"\\n                修改\\n            \")]),_vm._v(\" \"),_c('el-button',{staticClass:\"btn-handle\",attrs:{\"type\":\"primary\",\"disabled\":!_vm.rightControl('auditProcess_info')},on:{\"click\":function($event){_vm.checkInfo(scope.row.roleNames)}}},[_vm._v(\"\\n                详情\\n            \")])]}}])})],1),_vm._v(\" \"),_c('el-dialog',{staticClass:\"m-dialog el-steps-dialog\",attrs:{\"title\":\"提示\",\"visible\":_vm.dialogVisibleM,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.dialogVisibleM=$event}}},[_c('el-steps',{attrs:{\"space\":200,\"align-center\":\"\"}},_vm._l((_vm.auditInfo),function(item,index){return _c('el-step',{key:index,attrs:{\"title\":item}})})),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{staticClass:\"btn-close\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.dialogVisibleM = false}}},[_vm._v(\"关闭\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-54c2f425\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/basic_info/audit_process/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-54c2f425\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-54c2f425\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-54c2f425\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-54c2f425\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/basic_info/audit_process/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}