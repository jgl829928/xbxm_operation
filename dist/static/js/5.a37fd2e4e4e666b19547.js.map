{"version":3,"sources":["webpack:///src/views/operation_manage/content_manage/component/Tinymce/components/editorImage.vue","webpack:///./src/views/operation_manage/content_manage/component/Tinymce/components/editorImage.vue?5ae7","webpack:///./src/views/operation_manage/content_manage/component/Tinymce/components/editorImage.vue","webpack:///./src/views/operation_manage/content_manage/component/Tinymce/plugins.js","webpack:///./src/views/operation_manage/content_manage/component/Tinymce/toolbar.js","webpack:///src/views/operation_manage/content_manage/component/Tinymce/index.vue","webpack:///./src/views/operation_manage/content_manage/component/Tinymce/index.vue?8965","webpack:///./src/views/operation_manage/content_manage/component/Tinymce/index.vue","webpack:///src/views/operation_manage/content_manage/add_content/index.vue","webpack:///./src/views/operation_manage/content_manage/add_content/index.vue?bfcf","webpack:///./src/views/operation_manage/content_manage/add_content/index.vue"],"names":["editorImage","computed","extends_default","Object","vuex_esm","name","props","color","type","String","default","data","uploadUrl","uploadHeaders","gTicket","dialogVisible","listObj","fileList","methods","checkAllSuccess","_this","this","keys_default","every","item","hasSuccess","handleSubmit","_this2","arr","map","v","console","log","$emit","$message","handleSuccess","response","file","uid","objKeyArr","i","len","length","url","handleRemove","beforeUpload","isLt5M","size","error","_self","_URL","window","URL","webkitURL","fileName","promise_default","a","resolve","reject","img","Image","src","createObjectURL","onload","width","height","beforeMount","$http","defaults","baseURL","components_editorImage","render","_vm","_h","$createElement","_c","staticClass","style","background","borderColor","attrs","icon","on","click","$event","_v","append-to-body","visible","update:visible","headers","action","file-list","show-file-list","list-type","on-remove","on-success","before-upload","staticRenderFns","Tinymce_plugins","Tinymce_toolbar","Tinymce","components","__webpack_require__","normalizeComponent","ssrContext","id","value","toolbar","Array","required","menubar","Number","hasChange","hasInit","tinymceId","Date","fullscreen","watch","val","$nextTick","tinymce","get","setContent","mounted","initTinymce","activated","deactivated","destroyTinymce","_this3","init","selector","body_class","object_resizing","plugins","end_container_on_empty_block","powerpaste_word_import","code_dialog_height","code_dialog_width","advlist_bullet_styles","advlist_number_styles","imagetools_cors_hosts","default_link_target","link_title","nonbreaking_force_tab","init_instance_callback","editor","getContent","setup","e","state","destroy","imageSuccessCBK","forEach","insertContent","destroyed","component_Tinymce","class","successCBK","Tinymce_Component","Tinymce_normalizeComponent","__webpack_exports__","channels","code","desc","rules","title","message","trigger","min","max","subtitle","releaseChannelList","coverImageUrl","author","contentAbstract","contentType","link","ruleForm","content","beforeImgUpload","coverImageUpload","res","submitForm","formName","$refs","validate","valid","post","operation_manage","addContent","then","success","msg","$store","commit","$route","$router","push","path","resetForm","resetFields","content_manage_add_content","ref","model","label-width","inline","label-position","label","prop","clearable","callback","$$v","$set","trim","expression","multiple","placeholder","_l","key","accept","rows","Component","add_content"],"mappings":"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","file":"static/js/5.a37fd2e4e4e666b19547.js","sourcesContent":["<template>\r\n  <div class=\"upload-container\">\r\n    <el-button icon='el-icon-upload' size=\"mini\" :style=\"{background:color,borderColor:color}\"\r\n               @click=\" dialogVisible=true\" type=\"primary\">上传图片\r\n    </el-button>\r\n    <el-dialog append-to-body :visible.sync=\"dialogVisible\">\r\n      <el-upload class=\"editor-slide-upload\"\r\n                 :headers=\"uploadHeaders\"\r\n                 :action=\"uploadUrl\"\r\n                 :file-list=\"fileList\"\r\n                 :show-file-list=\"true\"\r\n                 list-type=\"picture-card\" :on-remove=\"handleRemove\" :on-success=\"handleSuccess\"\r\n                 :before-upload=\"beforeUpload\">\r\n        <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n      </el-upload>\r\n      <el-button type=\"primary\" class=\"btn-search btn-reset\" @click=\"dialogVisible = false\">取 消</el-button>\r\n      <el-button type=\"primary\" class=\"btn-search btn-save\" @click=\"handleSubmit\">确 定</el-button>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {mapState} from 'vuex'\r\n\r\n  export default {\r\n    computed: {\r\n      ...mapState(['gTicket'])\r\n    },\r\n    name: 'editorSlideUpload',\r\n    props: {\r\n      color: {\r\n        type: String,\r\n        default: '#1890ff'\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        uploadUrl: '',\r\n        uploadHeaders: {\r\n          gTicket: ''\r\n        },\r\n        dialogVisible: false,\r\n        listObj: {},\r\n        fileList: []\r\n      }\r\n    },\r\n    methods: {\r\n      checkAllSuccess() {\r\n        return Object.keys(this.listObj).every(item => this.listObj[item].hasSuccess)\r\n      },\r\n      handleSubmit() {\r\n        const arr = Object.keys(this.listObj).map(v => this.listObj[v])\r\n        if (!this.checkAllSuccess()) {\r\n          this.$message('请等待所有图片上传成功 或 出现了网络问题，请刷新页面重新上传！')\r\n          return\r\n        }\r\n        console.log(arr)\r\n        this.$emit('successCBK', arr)\r\n        this.listObj = {}\r\n        this.fileList = []\r\n        this.dialogVisible = false\r\n      },\r\n      handleSuccess(response, file) {\r\n        const uid = file.uid\r\n        const objKeyArr = Object.keys(this.listObj)\r\n        for (let i = 0, len = objKeyArr.length; i < len; i++) {\r\n          if (this.listObj[objKeyArr[i]].uid === uid) {\r\n            this.listObj[objKeyArr[i]].url = response.data;\r\n            this.listObj[objKeyArr[i]].hasSuccess = true\r\n            return\r\n          }\r\n        }\r\n      },\r\n      handleRemove(file) {\r\n        const uid = file.uid\r\n        const objKeyArr = Object.keys(this.listObj)\r\n        for (let i = 0, len = objKeyArr.length; i < len; i++) {\r\n          if (this.listObj[objKeyArr[i]].uid === uid) {\r\n            delete this.listObj[objKeyArr[i]]\r\n            return\r\n          }\r\n        }\r\n      },\r\n      beforeUpload(file) {\r\n        const isLt5M = file.size / 1024 / 1024 <= 20;\r\n        if (!isLt5M) {\r\n          this.$message.error(\"上传头像图片大小不能超过20MB!\");\r\n          return isLt5M;\r\n        }\r\n        const _self = this\r\n        const _URL = window.URL || window.webkitURL\r\n        const fileName = file.uid\r\n        this.listObj[fileName] = {}\r\n        return new Promise((resolve, reject) => {\r\n          const img = new Image()\r\n          img.src = _URL.createObjectURL(file)\r\n          img.onload = function () {\r\n            _self.listObj[fileName] = {hasSuccess: false, uid: file.uid, width: this.width, height: this.height}\r\n          }\r\n          resolve(true)\r\n        })\r\n      }\r\n    },\r\n    beforeMount() {\r\n      this.uploadUrl = `${this.$http.defaults.baseURL}/business/operation/image/upload`;\r\n      this.uploadHeaders.gTicket = this.gTicket;\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"less\">\r\n  .editor-slide-upload {\r\n    margin-bottom: 20px;\r\n    .el-upload--picture-card {\r\n      width: 100%;\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/operation_manage/content_manage/component/Tinymce/components/editorImage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"upload-container\"},[_c('el-button',{style:({background:_vm.color,borderColor:_vm.color}),attrs:{\"icon\":\"el-icon-upload\",\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.dialogVisible=true}}},[_vm._v(\"上传图片\\n  \")]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"append-to-body\":\"\",\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-upload',{staticClass:\"editor-slide-upload\",attrs:{\"headers\":_vm.uploadHeaders,\"action\":_vm.uploadUrl,\"file-list\":_vm.fileList,\"show-file-list\":true,\"list-type\":\"picture-card\",\"on-remove\":_vm.handleRemove,\"on-success\":_vm.handleSuccess,\"before-upload\":_vm.beforeUpload}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"点击上传\")])],1),_vm._v(\" \"),_c('el-button',{staticClass:\"btn-search btn-reset\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"btn-search btn-save\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSubmit}},[_vm._v(\"确 定\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-1a1e3c5b\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/views/operation_manage/content_manage/component/Tinymce/components/editorImage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1a1e3c5b\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=0!./editorImage.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./editorImage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./editorImage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1a1e3c5b\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./editorImage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/operation_manage/content_manage/component/Tinymce/components/editorImage.vue\n// module id = null\n// module chunks = ","// Any plugins you want to use has to be imported\r\n// Detail plugins list see https://www.tinymce.com/docs/plugins/\r\n// Custom builds see https://www.tinymce.com/download/custom-builds/\r\n\r\nconst plugins = ['advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools importcss insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount']\r\n\r\nexport default plugins\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/operation_manage/content_manage/component/Tinymce/plugins.js","// Here is a list of the toolbar\r\n// Detail list see https://www.tinymce.com/docs/advanced/editor-control-identifiers/#toolbarcontrols\r\n\r\nconst toolbar = ['bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample', 'hr bullist numlist link image charmap\t preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor fullscreen']\r\n\r\nexport default toolbar\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/operation_manage/content_manage/component/Tinymce/toolbar.js","<template>\r\n  <div class=\"tinymce-container editor-container\" :class=\"{fullscreen:fullscreen}\">\r\n    <textarea class=\"tinymce-textarea\" :id=\"tinymceId\"></textarea>\r\n    <div class=\"editor-custom-btn-container\">\r\n      <editorImage color=\"#1890ff\" class=\"editor-upload-btn\" @successCBK=\"imageSuccessCBK\"></editorImage>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport editorImage from './components/editorImage'\r\nimport plugins from './plugins'\r\nimport toolbar from './toolbar'\r\n\r\nexport default {\r\n  name: 'tinymce',\r\n  components: { editorImage },\r\n  props: {\r\n    id: {\r\n      type: String\r\n    },\r\n    value: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    toolbar: {\r\n      type: Array,\r\n      required: false,\r\n      default() {\r\n        return []\r\n      }\r\n    },\r\n    menubar: {\r\n      default: 'file edit insert view format table'\r\n    },\r\n    height: {\r\n      type: Number,\r\n      required: false,\r\n      default: 360\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      hasChange: false,\r\n      hasInit: false,\r\n      tinymceId: this.id || 'vue-tinymce-' + +new Date(),\r\n      fullscreen: false\r\n    }\r\n  },\r\n  watch: {\r\n    value(val) {\r\n      if (!this.hasChange && this.hasInit) {\r\n        this.$nextTick(() =>\r\n          window.tinymce.get(this.tinymceId).setContent(val || ''))\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.initTinymce()\r\n  },\r\n  activated() {\r\n    this.initTinymce()\r\n  },\r\n  deactivated() {\r\n    this.destroyTinymce()\r\n  },\r\n  methods: {\r\n    initTinymce() {\r\n      const _this = this\r\n      window.tinymce.init({\r\n        selector: `#${this.tinymceId}`,\r\n        height: this.height,\r\n        body_class: 'panel-body ',\r\n        object_resizing: false,\r\n        toolbar: this.toolbar.length > 0 ? this.toolbar : toolbar,\r\n        menubar: this.menubar,\r\n        plugins: plugins,\r\n        end_container_on_empty_block: true,\r\n        powerpaste_word_import: 'clean',\r\n        code_dialog_height: 450,\r\n        code_dialog_width: 1000,\r\n        advlist_bullet_styles: 'square',\r\n        advlist_number_styles: 'default',\r\n        imagetools_cors_hosts: ['www.tinymce.com', 'codepen.io'],\r\n        default_link_target: '_blank',\r\n        link_title: false,\r\n        nonbreaking_force_tab: true, // inserting nonbreaking space &nbsp; need Nonbreaking Space Plugin\r\n        init_instance_callback: editor => {\r\n          if (_this.value) {\r\n            editor.setContent(_this.value)\r\n          }\r\n          _this.hasInit = true\r\n          editor.on('NodeChange Change KeyUp SetContent', () => {\r\n            this.hasChange = true\r\n            this.$emit('input', editor.getContent())\r\n          })\r\n        },\r\n        setup(editor) {\r\n          editor.on('FullscreenStateChanged', (e) => {\r\n            _this.fullscreen = e.state\r\n          })\r\n        }\r\n        // 整合七牛上传\r\n        // images_dataimg_filter(img) {\r\n        //   setTimeout(() => {\r\n        //     const $image = $(img);\r\n        //     $image.removeAttr('width');\r\n        //     $image.removeAttr('height');\r\n        //     if ($image[0].height && $image[0].width) {\r\n        //       $image.attr('data-wscntype', 'image');\r\n        //       $image.attr('data-wscnh', $image[0].height);\r\n        //       $image.attr('data-wscnw', $image[0].width);\r\n        //       $image.addClass('wscnph');\r\n        //     }\r\n        //   }, 0);\r\n        //   return img\r\n        // },\r\n        // images_upload_handler(blobInfo, success, failure, progress) {\r\n        //   progress(0);\r\n        //   const token = _this.$store.getters.token;\r\n        //   getToken(token).then(response => {\r\n        //     const url = response.data.qiniu_url;\r\n        //     const formData = new FormData();\r\n        //     formData.append('token', response.data.qiniu_token);\r\n        //     formData.append('key', response.data.qiniu_key);\r\n        //     formData.append('file', blobInfo.blob(), url);\r\n        //     upload(formData).then(() => {\r\n        //       success(url);\r\n        //       progress(100);\r\n        //     })\r\n        //   }).catch(err => {\r\n        //     failure('出现未知问题，刷新页面，或者联系程序员')\r\n        //     console.log(err);\r\n        //   });\r\n        // },\r\n      })\r\n    },\r\n    destroyTinymce() {\r\n      if (window.tinymce.get(this.tinymceId)) {\r\n        window.tinymce.get(this.tinymceId).destroy()\r\n      }\r\n    },\r\n    setContent(value) {\r\n      window.tinymce.get(this.tinymceId).setContent(value)\r\n    },\r\n    getContent() {\r\n      window.tinymce.get(this.tinymceId).getContent()\r\n    },\r\n    imageSuccessCBK(arr) {\r\n      const _this = this\r\n      arr.forEach(v => {\r\n        window.tinymce.get(_this.tinymceId).insertContent(`<img class=\"wscnph\" src=\"${v.url}\" >`)\r\n      })\r\n    }\r\n  },\r\n  destroyed() {\r\n    this.destroyTinymce()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.tinymce-container {\r\n  position: relative;\r\n}\r\n.tinymce-container>>>.mce-fullscreen {\r\n  z-index: 10000;\r\n}\r\n.tinymce-textarea {\r\n  visibility: hidden;\r\n  z-index: -1;\r\n}\r\n.editor-custom-btn-container {\r\n  position: absolute;\r\n  right: 4px;\r\n  top: 4px;\r\n  /*z-index: 2005;*/\r\n}\r\n.fullscreen .editor-custom-btn-container {\r\n  z-index: 10000;\r\n  position: fixed;\r\n}\r\n.editor-upload-btn {\r\n  display: inline-block;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/operation_manage/content_manage/component/Tinymce/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tinymce-container editor-container\",class:{fullscreen:_vm.fullscreen}},[_c('textarea',{staticClass:\"tinymce-textarea\",attrs:{\"id\":_vm.tinymceId}}),_vm._v(\" \"),_c('div',{staticClass:\"editor-custom-btn-container\"},[_c('editorImage',{staticClass:\"editor-upload-btn\",attrs:{\"color\":\"#1890ff\"},on:{\"successCBK\":_vm.imageSuccessCBK}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-6bd0c284\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/views/operation_manage/content_manage/component/Tinymce/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6bd0c284\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6bd0c284\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6bd0c284\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/operation_manage/content_manage/component/Tinymce/index.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"contract-receipts add-content\">\r\n    <div class=\"main-title\">\r\n      <!--<span class=\"el-icon-back back-btn\" @click=\"$router.go(-1)\"></span>-->\r\n      添加内容</div>\r\n    <br>\r\n    <el-form class=\"c-search-form\" :rules=\"rules\" :model=\"ruleForm\" ref=\"ruleForm\" label-width=\"102px\" :inline=\"true\"\r\n             label-position=\"right\">\r\n      <div>\r\n        <el-form-item label=\"文章标题\" prop=\"title\">\r\n          <el-input clearable v-model.trim=\"ruleForm.title\"></el-input>\r\n        </el-form-item>\r\n      </div>\r\n      <div>\r\n        <el-form-item label=\"副标题\" class=\"second-title\" prop=\"subtitle\">\r\n          <el-input clearable v-model.trim=\"ruleForm.subtitle\"></el-input>\r\n        </el-form-item>\r\n      </div>\r\n      <div>\r\n        <el-form-item label=\"发布渠道\" prop=\"releaseChannelList\" class=\"second-title\">\r\n          <el-select v-model.trim=\"ruleForm.releaseChannelList\" multiple placeholder=\"请选择\">\r\n            <el-option v-for=\"item in channels\" :key=\"item.code\" :label=\"item.desc\" :value=\"item.code\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <!--<el-button disabled class=\"btn-search\" type=\"primary\">浏览</el-button>-->\r\n      </div>\r\n      <div>\r\n        <el-form-item label=\"封面图\" prop=\"coverImageUrl\">\r\n          <el-upload\r\n            class=\"avatar-uploader\"\r\n            :headers=\"uploadHeaders\"\r\n            :action=\"uploadUrl\"\r\n            accept=\"image/jpg,image/jpeg,image/png,image/bmp,image/gif\"\r\n            :show-file-list=\"false\"\r\n            :before-upload=\"beforeImgUpload\"\r\n            :on-success=\"coverImageUpload\">\r\n            <img v-if=\"ruleForm.coverImageUrl\" :src=\"ruleForm.coverImageUrl\" class=\"avatar\">\r\n            <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n          </el-upload>\r\n        </el-form-item>\r\n      </div>\r\n      <div>\r\n        <el-form-item label=\"作者\" prop=\"author\" class=\"author\">\r\n          <el-input clearable v-model.trim=\"ruleForm.author\"></el-input>\r\n        </el-form-item>\r\n      </div>\r\n      <div>\r\n        <el-form-item label=\"摘要\" prop=\"contentAbstract\">\r\n          <el-input\r\n            type=\"textarea\"\r\n            :rows=\"5\"\r\n            placeholder=\"请输入内容\"\r\n            clearable\r\n            v-model.trim=\"ruleForm.contentAbstract\"></el-input>\r\n        </el-form-item>\r\n      </div>\r\n      <div>\r\n        <el-form-item label=\"正文类型\" prop=\"contentType\">\r\n          <el-radio-group v-model.trim=\"ruleForm.contentType\">\r\n            <el-radio label=\"1\">链接</el-radio>\r\n            <el-radio label=\"2\">图文</el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n      </div>\r\n      <div v-if=\"ruleForm.contentType==='1'\">\r\n        <el-form-item label=\"文章链接\" prop=\"link\">\r\n          <el-input clearable v-model.trim=\"ruleForm.link\"></el-input>\r\n        </el-form-item>\r\n      </div>\r\n      <div class=\"editor-container-wrap\" v-else>\r\n        <Tinymce :height=400 ref=\"editor\" v-model.trim=\"ruleForm.content\"/>\r\n      </div>\r\n      <div class=\"save-btn\">\r\n        <el-button class=\"btn-save-big\" type=\"primary\" icon=\"el-icon-save\" @click=\"submitForm('ruleForm')\">保存</el-button>\r\n      </div>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import api from '@/api/operation-manage';\r\n  import Tinymce from '../component/Tinymce';\r\n  import { mapState } from 'vuex'\r\n  export default {\r\n    name:'addContent',\r\n\r\n    computed:{\r\n      ...mapState(['gTicket'])\r\n    },\r\n    components: {Tinymce},\r\n    data() {\r\n      return {\r\n        uploadUrl:'',\r\n        uploadHeaders:{\r\n          gTicket:''\r\n        },\r\n        channels:[\r\n          {code:1,desc:'App首页'}\r\n        ],\r\n        rules: {\r\n          title: [{required: true, message: '请输入文章标题', trigger: 'blur'},\r\n            {min: 1, max: 30, message: '长度1-30 个字符', trigger: 'blur'}],\r\n          subtitle: [{required: false,min: 1, max: 20, message: '长度1-20 个字符', trigger: 'blur'}],\r\n          releaseChannelList: [{required: true, message: '请选择发布渠道', trigger: 'change'}],\r\n          coverImageUrl: [{required: true, message: '请上传封面图', trigger: 'change'}],\r\n          author: [{required: true, message: '请输入作者', trigger: 'blur'},\r\n            {min: 1, max: 10, message: '长度1-10 个字符', trigger: 'blur'}],\r\n          contentAbstract: [{required: true, message: '请输入摘要', trigger: 'blur'},\r\n            {min: 1, max: 120, message: '长度1-120 个字符', trigger: 'blur'}],\r\n          contentType: [{required: true, message: '请选择类型', trigger: 'change'}],\r\n          link: [{required: true, message: '请输入链接', trigger: 'blur'}],\r\n        },\r\n        ruleForm: {\r\n          title: '',\r\n          subtitle: '',\r\n          releaseChannelList: [1],\r\n          coverImageUrl: '',\r\n          author: '',\r\n          contentAbstract: '',\r\n          contentType: '1',\r\n          link: '',\r\n          content:''\r\n        }\r\n      }\r\n    },\r\n    methods: {\r\n      beforeImgUpload(file) {\r\n        const isLt5M = file.size / 1024 / 1024 <= 20;\r\n        if (!isLt5M) {\r\n          this.$message.error(\"上传头像图片大小不能超过20MB!\");\r\n        }\r\n        return isLt5M;\r\n      },\r\n      coverImageUpload(res) {//封面图上传\r\n        this.ruleForm.coverImageUrl= res.data;\r\n      },\r\n      submitForm(formName) {\r\n        this.$refs[formName].validate((valid) => {\r\n          if (valid) {\r\n           console.log(this.ruleForm);\r\n           this.$http.post(api.addContent,this.ruleForm).then(res=>{\r\n             if(res.code===0){\r\n               this.$message.success(res.msg);\r\n               this.$store.commit(\"delete_tabs\", this.$route);\r\n               this.$router.push({path:'/operation/content'})\r\n             }else{\r\n               this.$message.error(res.msg)\r\n             }\r\n           })\r\n          } else {\r\n            console.log('error submit!!');\r\n            return false;\r\n          }\r\n        });\r\n      },\r\n      resetForm(formName) {\r\n        this.$refs[formName].resetFields();\r\n      },\r\n    },\r\n    beforeMount(){\r\n      this.uploadUrl=`${this.$http.defaults.baseURL}/business/operation/image/upload`;\r\n      this.uploadHeaders.gTicket=this.gTicket;\r\n    }\r\n  };\r\n</script>\r\n<style lang=\"less\" scoped>\r\n  .contract-receipts {\r\n    .footer-btn {\r\n      width: 342px;\r\n      text-align: right;\r\n    }\r\n  }\r\n  .unit-div {\r\n    margin-top: 30px;\r\n    text-align: right;\r\n  }\r\n</style>\r\n<style lang=\"less\">\r\n  .add-content {\r\n    .main-title {\r\n      width: 60%;\r\n      height: 28px;\r\n      line-height: 28px;\r\n      font-size: 16px;\r\n      color: #444444;\r\n      font-weight: bold;\r\n      text-align: center;\r\n      margin-bottom: 30px;\r\n      .back-btn {\r\n        display: inline-block;\r\n        width: 27px;\r\n        height: 27px;\r\n        line-height: 27px;\r\n        border: 1px solid #EBEBEB;\r\n        border-radius: 50%;\r\n        color: #EBEBEB;\r\n        cursor: pointer;\r\n        font-weight: bold;\r\n        float: left;\r\n      }\r\n    }\r\n    .c-search-form{\r\n      .el-form-item__content{\r\n        width: 580px;\r\n      }\r\n      .second-title .el-form-item__content{\r\n        width: 477px;\r\n      }\r\n      .author .el-form-item__content{\r\n        width: 200px;\r\n      }\r\n    }\r\n\r\n    .el-date-editor.el-input, .el-date-editor.el-input__inner {\r\n      width: 100%;\r\n    }\r\n    .avatar-uploader .el-upload {\r\n      border: 1px dashed #d9d9d9;\r\n      border-radius: 6px;\r\n      cursor: pointer;\r\n      position: relative;\r\n      overflow: hidden;\r\n    }\r\n    .avatar-uploader .el-upload:hover {\r\n      border-color: #409EFF;\r\n    }\r\n    .avatar-uploader-icon {\r\n      font-size: 28px;\r\n      color: #8c939d;\r\n      width: 178px;\r\n      height: 178px;\r\n      line-height: 178px;\r\n      text-align: center;\r\n    }\r\n    .avatar {\r\n      width: 178px;\r\n      height: 178px;\r\n      display: block;\r\n    }\r\n    .area-size {\r\n      .el-form-item__content {\r\n        width: 170px;\r\n        vertical-align: middle;\r\n      }\r\n    }\r\n    .unit {\r\n      display: inline-block;\r\n      margin-top: 10px;\r\n    }\r\n    .save-btn {\r\n      width: 60%;\r\n      text-align: center;\r\n    }\r\n    .editor-container-wrap{\r\n      min-height: 500px;\r\n      width: 80%;\r\n      margin: 15px 0 30px 102px;\r\n      .editor-upload-btn-container {\r\n        text-align: right;\r\n        margin-right: 10px;\r\n        .editor-upload-btn {\r\n          display: inline-block;\r\n        }\r\n      }\r\n    }\r\n    .mce-container, .mce-container-body{\r\n      display: block;\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/operation_manage/content_manage/add_content/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"contract-receipts add-content\"},[_c('div',{staticClass:\"main-title\"},[_vm._v(\"\\n    添加内容\")]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('el-form',{ref:\"ruleForm\",staticClass:\"c-search-form\",attrs:{\"rules\":_vm.rules,\"model\":_vm.ruleForm,\"label-width\":\"102px\",\"inline\":true,\"label-position\":\"right\"}},[_c('div',[_c('el-form-item',{attrs:{\"label\":\"文章标题\",\"prop\":\"title\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.ruleForm.title),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"title\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"ruleForm.title\"}})],1)],1),_vm._v(\" \"),_c('div',[_c('el-form-item',{staticClass:\"second-title\",attrs:{\"label\":\"副标题\",\"prop\":\"subtitle\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.ruleForm.subtitle),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"subtitle\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"ruleForm.subtitle\"}})],1)],1),_vm._v(\" \"),_c('div',[_c('el-form-item',{staticClass:\"second-title\",attrs:{\"label\":\"发布渠道\",\"prop\":\"releaseChannelList\"}},[_c('el-select',{attrs:{\"multiple\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.ruleForm.releaseChannelList),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"releaseChannelList\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"ruleForm.releaseChannelList\"}},_vm._l((_vm.channels),function(item){return _c('el-option',{key:item.code,attrs:{\"label\":item.desc,\"value\":item.code}})}))],1)],1),_vm._v(\" \"),_c('div',[_c('el-form-item',{attrs:{\"label\":\"封面图\",\"prop\":\"coverImageUrl\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"headers\":_vm.uploadHeaders,\"action\":_vm.uploadUrl,\"accept\":\"image/jpg,image/jpeg,image/png,image/bmp,image/gif\",\"show-file-list\":false,\"before-upload\":_vm.beforeImgUpload,\"on-success\":_vm.coverImageUpload}},[(_vm.ruleForm.coverImageUrl)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.ruleForm.coverImageUrl}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1)],1),_vm._v(\" \"),_c('div',[_c('el-form-item',{staticClass:\"author\",attrs:{\"label\":\"作者\",\"prop\":\"author\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.ruleForm.author),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"author\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"ruleForm.author\"}})],1)],1),_vm._v(\" \"),_c('div',[_c('el-form-item',{attrs:{\"label\":\"摘要\",\"prop\":\"contentAbstract\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":5,\"placeholder\":\"请输入内容\",\"clearable\":\"\"},model:{value:(_vm.ruleForm.contentAbstract),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"contentAbstract\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"ruleForm.contentAbstract\"}})],1)],1),_vm._v(\" \"),_c('div',[_c('el-form-item',{attrs:{\"label\":\"正文类型\",\"prop\":\"contentType\"}},[_c('el-radio-group',{model:{value:(_vm.ruleForm.contentType),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"contentType\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"ruleForm.contentType\"}},[_c('el-radio',{attrs:{\"label\":\"1\"}},[_vm._v(\"链接\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"2\"}},[_vm._v(\"图文\")])],1)],1)],1),_vm._v(\" \"),(_vm.ruleForm.contentType==='1')?_c('div',[_c('el-form-item',{attrs:{\"label\":\"文章链接\",\"prop\":\"link\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.ruleForm.link),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"link\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"ruleForm.link\"}})],1)],1):_c('div',{staticClass:\"editor-container-wrap\"},[_c('Tinymce',{ref:\"editor\",attrs:{\"height\":400},model:{value:(_vm.ruleForm.content),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"content\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"ruleForm.content\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"save-btn\"},[_c('el-button',{staticClass:\"btn-save-big\",attrs:{\"type\":\"primary\",\"icon\":\"el-icon-save\"},on:{\"click\":function($event){_vm.submitForm('ruleForm')}}},[_vm._v(\"保存\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-f950231e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/views/operation_manage/content_manage/add_content/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f950231e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n  require(\"!!../../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f950231e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=1!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f950231e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-f950231e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/operation_manage/content_manage/add_content/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}