{"version":3,"sources":["webpack:///src/views/contract_manage/template_maintenance/index.vue","webpack:///./src/views/contract_manage/template_maintenance/index.vue?f743","webpack:///./src/views/contract_manage/template_maintenance/index.vue"],"names":["template_maintenance","name","mixins","data","dialogTitle","province","location","addTplDialog","reqData","contractTplName","contractTypeCode","contractTplStatus","contractsTypeList","statusList","label","value","itemList","addTplForm","contractTplId","contractTplUrl","fileList","isAdd","uploadUrl","upHeaders","gTicket","sys_authentication","sys_id","rules","required","message","trigger","mounted","this","getList","contact","contractTpls","getContractsType","_$http$defaults","$http","defaults","baseURL","headers","$store","getters","uploadContract","methods","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","res","wrap","_context","prev","next","get","basicContracts","sent","stop","search","currentPage","handleStatus","item","_this2","_callee2","_context2","abrupt","put","$message","success","addTpl","_this3","sta","arguments","length","undefined","addTplSta","setTimeout","$refs","clearValidate","contractType","submitAddTpl","_ref","_this4","validate","_callee3","valid","_context3","error","post","_x2","apply","handleFileSuccess","file","code","msg","handleRemove","beforeRemove","contract_manage_template_maintenance","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","model","label-width","inline","label-position","span","clearable","callback","$$v","$set","expression","_v","placeholder","_l","index","key","contractTypeName","offset","type","icon","on","click","gutter","checkKey","$event","_e","staticStyle","width","height","align","stripe","indexMethod","prop","min-width","scopedSlots","_u","fn","scope","_s","row","desc","fixed","class","disabled","pageparams","pageInfo","handlePage","title","visible","update:visible","action","accept","file-list","on-success","on-remove","before-remove","slot","size","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/90.43700b075c169c8db366.js","sourcesContent":["<template>\n  <div class=\"contract-receipts\">\n    <el-form  class=\"c-search-form\" :model=\"reqData\" ref=\"reqData\" label-width=\"102px\" :inline=\"true\"\n              label-position=\"right\">\n      <el-row>\n        <el-col :span=\"8\">\n          <el-form-item label=\"合同名称\">\n            <el-input clearable v-model=\"reqData.contractTplName\"></el-input>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"8\">\n          <el-form-item label=\"合同类型\">\n              <el-select v-model=\"reqData.contractTypeCode\" clearable placeholder=\"请选择\">\n                <el-option\n                  v-for=\"(item, index) in contractsTypeList\"\n                  :key=\"index\"\n                  :label=\"item.contractTypeName\"\n                  :value=\"item.contractTypeCode\">\n                </el-option>\n              </el-select>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"8\">\n          <el-form-item label=\"所属省份\">\n              <el-select v-model=\"location\" clearable placeholder=\"请选择\">\n                <el-option\n                  v-for=\"(item, index) in province\"\n                  :key=\"index\"\n                  :label=\"item.label\"\n                  :value=\"item.value\">\n                </el-option>\n              </el-select>\n          </el-form-item>\n        </el-col>\n      </el-row>\n      <el-row>\n        <el-col :span=\"8\">\n          <el-form-item label=\"状态\">\n            <el-select v-model=\"reqData.contractTplStatus\" clearable placeholder=\"请选择\">\n              <el-option\n                v-for=\"(item, index) in statusList\"\n                :key=\"index\"\n                :label=\"item.label\"\n                :value=\"item.value\">\n              </el-option>\n            </el-select>\n          </el-form-item>\n        </el-col>\n        <el-col :offset=\"8\" :span=\"8\">\n          <div class=\"c-footer-btn\">\n            <el-button class=\"btn-search\" type=\"primary\" icon=\"el-icon-search\" @click=\"search\">查询</el-button>\n          </div>\n        </el-col>\n      </el-row>\n      <el-row :gutter=\"32\">\n        <el-col :span=\"8\">\n          <el-button v-if=\" checkKey('templateMain_1')\" class=\"btn-search btn-add\"\n                     type=\"primary\" @click=\"addTpl('new')\">添加</el-button>\n        </el-col>\n      </el-row>\n    </el-form>\n    <div class=\"c-table-wrap\">\n      <el-table\n        :data=\"itemList\"\n        style=\"width: 100%\"\n        height=\"500\"\n        align=\"center\"\n        stripe>\n        <el-table-column\n          align=\"center\"\n          type=\"index\"\n          label=\"序号\"\n          width=\"50\"\n          :index=\"indexMethod\">\n        </el-table-column>\n        <el-table-column\n          align=\"center\"\n          prop=\"ss\"\n          label=\"省市\">\n        </el-table-column>\n        <el-table-column\n          align=\"center\"\n          prop=\"contractTplName\"\n          label=\"合同名称\"\n          min-width=\"120\">\n        </el-table-column>\n        <el-table-column\n          align=\"center\"\n          label=\"合同类型\"\n          min-width=\"120\">\n          <template slot-scope=\"scope\">\n            <span>{{scope.row.contractType ? scope.row.contractType.contractTypeName:''}}</span>\n          </template>\n        </el-table-column>\n         <el-table-column\n          align=\"center\"\n          label=\"状态\">\n           <template slot-scope=\"scope\">\n             <span>{{scope.row.contractTplStatus ? scope.row.contractTplStatus.desc:''}}</span>\n           </template>\n        </el-table-column>\n        <el-table-column\n          align=\"center\"\n          prop=\"createTime\"\n          label=\"创建时间\"\n          min-width=\"165\">\n        </el-table-column>\n        <el-table-column\n          align=\"center\"\n          prop=\"createUserName\"\n          label=\"创建人\">\n        </el-table-column>\n        <el-table-column\n          align=\"center\"\n          prop=\"updateTime\"\n          label=\"最后修改时间\"\n          min-width=\"165\">\n        </el-table-column>\n        <el-table-column\n          align=\"center\"\n          prop=\"updateUserName\"\n          label=\"最后修改人\"\n          min-width=\"100\">\n        </el-table-column>\n        <el-table-column\n          align=\"center\"\n          label=\"操作\"\n          fixed=\"right\"\n          min-width=\"200\">\n          <template slot-scope=\"scope\">\n          \t<el-button class=\"btn-handle\"\n                       type=\"primary\"\n                       :class=\"scope.row.contractTplStatus &&\n                        scope.row.contractTplStatus.code === 1 ? 'stop':'start'\"\n                       :disabled=\"!checkKey('templateMain_2')\"\n                       @click=\"handleStatus(scope.row)\">\n                {{scope.row.contractTplStatus ?\n                   scope.row.contractTplStatus.code === 1 ? '停用':'启用'\n                  : '--'}}\n            </el-button>\n            <el-button :disabled=\"!checkKey('templateMain_3')\"\n                       class=\"btn-handle\" type=\"primary\" @click=\"addTpl('revise',scope.row)\">修改</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n    <!--分页-->\n    <pagenation :pageparams=\"pageInfo\" :itemList=\"itemList\" @handlePage=\"handlePage\"/>\n    <!--合同模板-添加&修改-->\n    <el-dialog\n      :title=\"dialogTitle\"\n      :visible.sync=\"addTplDialog\"\n      width=\"30%\"\n      class=\"m-dialog add-tpl-dialog\">\n      <el-form :model=\"addTplForm\" :rules=\"rules\" ref=\"addTplForm\" label-width=\"100px\" >\n        <el-form-item label=\"合同名称\" prop=\"contractTplName\">\n          <el-input :disabled=\"!isAdd\" v-model=\"addTplForm.contractTplName\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"合同类型\" prop=\"contractTypeCode\">\n          <el-select class=\"el-input-30\" v-model=\"addTplForm.contractTypeCode\" :disabled=\"!isAdd\" clearable placeholder=\"请选择\">\n            <el-option\n              v-for=\"(item, index) in contractsTypeList\"\n              :key=\"index\"\n              :label=\"item.contractTypeName\"\n              :value=\"item.contractTypeCode\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"上传模板\">\n          <el-upload\n            ref=\"upload\"\n            :headers=\"upHeaders\"\n            :action=\"uploadUrl\"\n            accept=\".docx\"\n            :file-list=\"fileList\"\n            :on-success=\"handleFileSuccess\"\n            :on-remove=\"handleRemove\"\n            :before-remove=\"beforeRemove\">\n            <el-button slot=\"trigger\" size=\"small\" class=\"choose-file-btn\" type=\"primary\">选取文件</el-button>\n            <div slot=\"tip\" class=\"el-upload__tip\">只能上传.docx文件</div>\n          </el-upload>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button class=\"btn-save\" type=\"primary\"  @click=\"submitAddTpl\">保存</el-button>\n        <el-button class=\"btn-reset\" type=\"primary\" @click=\"addTplDialog=false\">取消</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n<script>\n  import Api from '@/api/contact'\n  import { pageListMixin } from '@/utils/mixin'\nexport default {\n  name:'templateMain',\n  mixins: [pageListMixin],\n  data() {\n    return {\n      dialogTitle:'合同模板-添加',\n      province:[], //省份列表\n      location:'',//省份\n      addTplDialog: false,\n      reqData:{\n        contractTplName:'',\n        contractTypeCode:'',\n        contractTplStatus:''\n      },\n      contractsTypeList:[], //合同类型\n      statusList:[\n        {label: '启用', value: 1},\n        {label: '停用', value: 2},\n      ],\n      itemList:[],\n      addTplForm:{\n        contractTplId:'',\n        contractTplName:'',\n        contractTypeCode:'',\n        contractTplUrl:''\n      },\n      fileList:[], // 文件列表\n      isAdd: true, // 是否是新增\n      uploadUrl:'',\n      upHeaders:{\n        gTicket:'',\n        sys_authentication:'',\n        sys_id:''\n      },\n      rules: { // 添加模板\n        contractTplName: [\n          { required: true, message: '请输入合同名称', trigger: 'blur' },\n        ],\n        contractTypeCode: [\n          { required: true, message: '请选择合同类型', trigger: 'change' }\n        ]\n      }\n    }\n  },\n  mounted() {\n    this.getList(Api.contractTpls);\n    this.getContractsType();\n    let { baseURL, headers } = this.$http.defaults;\n    let { sys_authentication,sys_id } = headers;\n    this.upHeaders = { gTicket: this.$store.getters.gTicket, sys_authentication, sys_id };\n    this.uploadUrl = baseURL + Api.uploadContract;\n  },\n  methods: {\n    async getContractsType() {\n      let res = await this.$http.get(Api.basicContracts);\n      if(res){\n        this.contractsTypeList = res.data;\n      }\n    },\n    search() {\n      this.reqData.currentPage = 1;\n      this.getList(Api.contractTpls);\n    },\n    async handleStatus(item) {\n      let contractTplId = item.contractTplId ? item.contractTplId : '';\n      if(!contractTplId) return false;\n      let res = await this.$http.put(`${Api.contractTpls}/${contractTplId}`);\n      if(res){\n        this.$message.success('操作成功');\n        this.getList(Api.contractTpls);\n      }\n    },\n    addTpl(sta = 'new', item) {\n      this.addTplDialog = true;\n      this.addTplSta = sta;\n      setTimeout(()=>{\n        this.$refs['addTplForm'].clearValidate();\n      },20);\n      if(sta !== 'new'){\n        this.isAdd = false;\n        let { contractTplId, contractType, contractTplName } = item;\n        this.addTplForm = {\n          contractTplId,\n          contractTplName,\n          contractTypeCode: contractType.contractTypeCode,\n          contractTplUrl:''\n        };\n        this.dialogTitle = '合同模板-修改';\n        this.fileList = [{ name: `${contractTplName}.docx` }];\n      }else {\n        this.isAdd = true;\n        this.addTplForm = {\n          contractTplName:'',\n          contractTypeCode:'',\n          contractTplUrl:''\n        };\n        this.fileList = [];\n        this.dialogTitle = '合同模板-添加'\n      }\n    },\n    submitAddTpl() {\n      this.$refs['addTplForm'].validate(async (valid) => {\n        if (valid) {\n          if(this.isAdd && !this.addTplForm.contractTplUrl) return this.$message.error('请选择模板并上传文件');\n          let res;\n          if(this.addTplSta === 'new'){\n            res = await this.$http.post(Api.contractTpls, this.addTplForm)\n          }else {\n            res = await this.$http.put(Api.contractTpls, this.addTplForm)\n          }\n          if(res){\n            this.addTplDialog = false;\n            this.$message.success('操作成功');\n            this.getList(Api.contractTpls);\n          }\n        } else {\n          return false;\n        }\n      });\n    },\n    handleFileSuccess(file, fileList) {\n      this.fileList = [ fileList ];\n      if(file.code === 0) {\n        this.addTplForm.contractTplUrl = file.data.contractTplUrl\n      }else {\n        this.fileList = [];\n        if(file.message){\n          this.$message.error(file.message);\n        }else {\n          let msg = file.msg || '请稍后再试';\n          this.$message.error(msg);\n        }\n      }\n    },\n    handleRemove() {\n      this.addTplForm.contractTplUrl = ''\n    },\n    beforeRemove() {\n      return false\n    }\n  }\n};\n</script>\n<style lang=\"less\">\n  .add-tpl-dialog{\n    .el-form-item__content{\n      width: inherit !important;\n    }\n    .choose-file-btn{\n      color: #1989FA;\n      background-color: #fff;\n      border-color: #1989FA;\n    }\n    .el-upload-list li.el-upload-list__item{\n      &>i{\n        display: none !important;\n      };\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/contract_manage/template_maintenance/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"contract-receipts\"},[_c('el-form',{ref:\"reqData\",staticClass:\"c-search-form\",attrs:{\"model\":_vm.reqData,\"label-width\":\"102px\",\"inline\":true,\"label-position\":\"right\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"合同名称\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.reqData.contractTplName),callback:function ($$v) {_vm.$set(_vm.reqData, \"contractTplName\", $$v)},expression:\"reqData.contractTplName\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"合同类型\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.reqData.contractTypeCode),callback:function ($$v) {_vm.$set(_vm.reqData, \"contractTypeCode\", $$v)},expression:\"reqData.contractTypeCode\"}},_vm._l((_vm.contractsTypeList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.contractTypeName,\"value\":item.contractTypeCode}})}))],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"所属省份\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.location),callback:function ($$v) {_vm.location=$$v},expression:\"location\"}},_vm._l((_vm.province),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.label,\"value\":item.value}})}))],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"状态\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.reqData.contractTplStatus),callback:function ($$v) {_vm.$set(_vm.reqData, \"contractTplStatus\", $$v)},expression:\"reqData.contractTplStatus\"}},_vm._l((_vm.statusList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.label,\"value\":item.value}})}))],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"offset\":8,\"span\":8}},[_c('div',{staticClass:\"c-footer-btn\"},[_c('el-button',{staticClass:\"btn-search\",attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.search}},[_vm._v(\"查询\")])],1)])],1),_vm._v(\" \"),_c('el-row',{attrs:{\"gutter\":32}},[_c('el-col',{attrs:{\"span\":8}},[( _vm.checkKey('templateMain_1'))?_c('el-button',{staticClass:\"btn-search btn-add\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.addTpl('new')}}},[_vm._v(\"添加\")]):_vm._e()],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"c-table-wrap\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.itemList,\"height\":\"500\",\"align\":\"center\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"type\":\"index\",\"label\":\"序号\",\"width\":\"50\",\"index\":_vm.indexMethod}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"ss\",\"label\":\"省市\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"contractTplName\",\"label\":\"合同名称\",\"min-width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"合同类型\",\"min-width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.contractType ? scope.row.contractType.contractTypeName:''))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.contractTplStatus ? scope.row.contractTplStatus.desc:''))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"createTime\",\"label\":\"创建时间\",\"min-width\":\"165\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"createUserName\",\"label\":\"创建人\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"updateTime\",\"label\":\"最后修改时间\",\"min-width\":\"165\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"updateUserName\",\"label\":\"最后修改人\",\"min-width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\",\"fixed\":\"right\",\"min-width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{staticClass:\"btn-handle\",class:scope.row.contractTplStatus &&\n                      scope.row.contractTplStatus.code === 1 ? 'stop':'start',attrs:{\"type\":\"primary\",\"disabled\":!_vm.checkKey('templateMain_2')},on:{\"click\":function($event){_vm.handleStatus(scope.row)}}},[_vm._v(\"\\n              \"+_vm._s(scope.row.contractTplStatus ?\n                 scope.row.contractTplStatus.code === 1 ? '停用':'启用'\n                : '--')+\"\\n          \")]),_vm._v(\" \"),_c('el-button',{staticClass:\"btn-handle\",attrs:{\"disabled\":!_vm.checkKey('templateMain_3'),\"type\":\"primary\"},on:{\"click\":function($event){_vm.addTpl('revise',scope.row)}}},[_vm._v(\"修改\")])]}}])})],1)],1),_vm._v(\" \"),_c('pagenation',{attrs:{\"pageparams\":_vm.pageInfo,\"itemList\":_vm.itemList},on:{\"handlePage\":_vm.handlePage}}),_vm._v(\" \"),_c('el-dialog',{staticClass:\"m-dialog add-tpl-dialog\",attrs:{\"title\":_vm.dialogTitle,\"visible\":_vm.addTplDialog,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.addTplDialog=$event}}},[_c('el-form',{ref:\"addTplForm\",attrs:{\"model\":_vm.addTplForm,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"合同名称\",\"prop\":\"contractTplName\"}},[_c('el-input',{attrs:{\"disabled\":!_vm.isAdd},model:{value:(_vm.addTplForm.contractTplName),callback:function ($$v) {_vm.$set(_vm.addTplForm, \"contractTplName\", $$v)},expression:\"addTplForm.contractTplName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"合同类型\",\"prop\":\"contractTypeCode\"}},[_c('el-select',{staticClass:\"el-input-30\",attrs:{\"disabled\":!_vm.isAdd,\"clearable\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.addTplForm.contractTypeCode),callback:function ($$v) {_vm.$set(_vm.addTplForm, \"contractTypeCode\", $$v)},expression:\"addTplForm.contractTypeCode\"}},_vm._l((_vm.contractsTypeList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.contractTypeName,\"value\":item.contractTypeCode}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"上传模板\"}},[_c('el-upload',{ref:\"upload\",attrs:{\"headers\":_vm.upHeaders,\"action\":_vm.uploadUrl,\"accept\":\".docx\",\"file-list\":_vm.fileList,\"on-success\":_vm.handleFileSuccess,\"on-remove\":_vm.handleRemove,\"before-remove\":_vm.beforeRemove}},[_c('el-button',{staticClass:\"choose-file-btn\",attrs:{\"slot\":\"trigger\",\"size\":\"small\",\"type\":\"primary\"},slot:\"trigger\"},[_vm._v(\"选取文件\")]),_vm._v(\" \"),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"只能上传.docx文件\")])],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{staticClass:\"btn-save\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submitAddTpl}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"btn-reset\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.addTplDialog=false}}},[_vm._v(\"取消\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0a510000\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/contract_manage/template_maintenance/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0a510000\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0a510000\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/contract_manage/template_maintenance/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}