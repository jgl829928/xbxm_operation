{"version":3,"sources":["webpack:///src/views/basic_info/district_manage/index.vue","webpack:///./src/views/basic_info/district_manage/index.vue?4509","webpack:///./src/views/basic_info/district_manage/index.vue"],"names":["district_manage","name","data","dialogFormVisible","pageparams","currentPage","reqData","areaCode","marketName","itemList","marketPartitionTypeMap","1","value","2","form","reqDiaData","marketCode","marketPartitionType","marketPartitionNames","reqDiaDataCopy","formLabelWidth","areaList","setHeight","height","marketList","components","pagenation","created","this","getArea","apiSetting","cascaderMarket","getData","methods","rightControl","id","$store","getters","getPermission","reset","_this2","$refs","resetFields","$nextTick","clearValidate","Object","auth","addcontract_type","_this3","marketPartitionName","search","newArr","split","forEach","item","index","obj","push","window","localStorage","setItem","length","newArrSec","saveChange","_this4","map","$http","post","basicApi_estateApi","partition","extends_default","then","res","code","$message","success","msg","error","indexMethod","page","handlePage","val","list","url","_this5","method","params","changeMarket","districtSearch","addStoreName","deleteStoreName","splice","basic_info_district_manage","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","model","label-width","inline","label-position","span","prop","label","clearable","placeholder","on","change","$event","callback","$$v","$set","expression","_l","key","areaName","_v","type","click","title","visible","update:visible","close","_s","rules","required","message","trigger","icon","staticStyle","width","align","stripe","scopedSlots","_u","fn","scope","$index","max","row","trim","min-width","_e","slot","status","fixed","disabled","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/51.a28942d61f31b94943ad.js","sourcesContent":["<template>\r\n  <div class=\"g-district-manage\">\r\n    <el-form class=\"c-search-form\" :model=\"reqData\" ref=\"reqData\" label-width=\"102px\" :inline=\"true\" label-position=\"right\">\r\n      <el-row>\r\n         <el-col :span=\"8\">\r\n          <el-form-item prop=\"areaCode\" label=\"所在省市\">\r\n            <el-select v-model=\"reqData.areaCode\" clearable placeholder=\"请选择\" @change=\"changeMarket(reqData.areaCode)\">\r\n              <el-option v-for=\"(item, index) in areaList\" :key=\"index\" :label=\"item.areaName\"\r\n                :value=\"item.areaCode\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item label=\"商场名称\" prop=\"marketName\">\r\n            <el-select v-model=\"reqData.marketName\" clearable placeholder=\"请选择\">\r\n              <el-option\r\n                v-for=\"(item, index) in marketList\"\r\n                :key=\"index\"\r\n                :label=\"item.marketName\"\r\n                :value=\"item.marketName\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n         <el-col :span=\"8\">\r\n            <el-button class=\"btn-search\" type=\"primary\" @click=\"search\">查询</el-button>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n    <el-dialog title=\"区域-修改\" :visible.sync=\"dialogFormVisible\" class=\"m-dialog\" @close=\"reset\">\r\n      <el-form class=\"c-search-form\" :model=\"reqDiaData\" ref=\"reqDiaData\" label-width=\"\" :inline=\"true\" label-position=\"right\">\r\n        <el-row class=\"u-line\">\r\n          <el-col :span=\"8\">\r\n            <span>商场名称：</span>\r\n            <span class=\"u-color\">{{name}}</span>\r\n          </el-col>\r\n          <el-col :span=\"16\">\r\n            <el-form-item label=\"划分规则\" label-width=\"110px\" prop=\"marketPartitionType\"\r\n            :rules=\"{\r\n      required: true, message: '划分规则不能为空', trigger: 'blur'\r\n          }\"\r\n            >\r\n              <el-radio-group v-model=\"reqDiaData.marketPartitionType\">\r\n                <el-radio :label=\"1\">品类划分</el-radio>\r\n                <el-radio :label=\"2\">区域划分</el-radio>\r\n              </el-radio-group>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n\r\n        <el-row class=\"c-table-wrap table-wrap\">\r\n          <el-button type=\"text\" class=\"table-add-btn u-add\" icon=\"el-icon-circle-plus-outline\"\r\n                   @click=\"addStoreName()\"></el-button>\r\n          <el-table :data=\"reqDiaData.marketPartitionNames\" style=\"width: 100%\" align=\"center\" stripe\r\n    >\r\n            <el-table-column align=\"center\" type=\"index\" label=\"序号\">\r\n            </el-table-column>\r\n            <el-table-column align=\"center\" prop=\"\" label=\"区域名称\">\r\n              <template slot-scope=\"scope\">\r\n                <el-form-item :prop=\"'marketPartitionNames.'+scope.$index+'.name'\"\r\n                :key=\"scope.$index\"\r\n                :rules=\"[{\r\n             required: true, message: '区域名不能为空', trigger: 'blur'\r\n                },{\r\n             max: 20, message: '字数限制为20字', trigger: 'blur'\r\n                }]\">\r\n            <el-input clearable v-model.trim=\"scope.row.name\"></el-input>\r\n              </el-form-item>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column align=\"center\" label=\"\" min-width=\"20\">\r\n              <template slot-scope=\"scope\">\r\n              <el-button type=\"text\" @click=\"deleteStoreName(scope.$index)\" class=\"u-del\" icon=\"el-icon-remove-outline\" v-if=\"scope.$index != 0 \"></el-button>\r\n            </template>\r\n            </el-table-column>\r\n          </el-table>\r\n        </el-row>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button class=\"btn-save\" type=\"primary\" @click=\"saveChange\">保存</el-button>\r\n        <el-button class=\"btn-reset\" type=\"primary\" @click=\"reset\">取消</el-button>\r\n      </div>\r\n    </el-dialog>\r\n    <div class=\"c-table-wrap\">\r\n      <el-table :data=\"itemList\" style=\"width: 100%\" align=\"center\" stripe height=\"500\">\r\n        <el-table-column align=\"center\" type=\"index\" label=\"序号\" width=\"50\" :index=\"indexMethod\">\r\n        </el-table-column>\r\n        <el-table-column align=\"center\" prop=\"marketName\" label=\"商场名称\">\r\n        </el-table-column>\r\n        <el-table-column align=\"center\" prop=\"marketCode\" label=\"商场编码\" width=\"160\">\r\n        </el-table-column>\r\n        <el-table-column align=\"center\" prop=\"areaCodeName\" label=\"所在省市\">\r\n        </el-table-column>\r\n        <el-table-column align=\"center\" prop=\"status\" label=\"状态\">\r\n          <template slot-scope=\"scope\">\r\n            {{scope.row.status == true?\"启用\":\"禁用\"}}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column align=\"center\" prop=\"responsibleUserName\" label=\"负责人\">\r\n        </el-table-column>\r\n        <el-table-column align=\"center\" prop=\"contactTel\" label=\"负责人联系电话\" min-width=\"120\">\r\n        </el-table-column>\r\n        <el-table-column align=\"center\" prop=\"address\" label=\"商场地址\">\r\n        </el-table-column>\r\n        <el-table-column align=\"center\" prop=\"createUserName\" label=\"添加人\">\r\n        </el-table-column>\r\n        <el-table-column align=\"center\" prop=\"createTime\" label=\"添加时间\" min-width=\"165\">\r\n        </el-table-column>\r\n        <el-table-column align=\"center\" prop=\"marketPartitionType\" label=\"规划规则\">\r\n          <template slot-scope=\"scope\">\r\n            {{scope.row.marketPartitionType?marketPartitionTypeMap[scope.row.marketPartitionType].value:'--'}}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column align=\"center\" prop=\"marketPartitionName\" label=\"区域名称\">\r\n        </el-table-column>\r\n        <el-table-column align=\"center\" label=\"操作\" min-width=\"100\"\r\n          fixed=\"right\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button class=\"btn-handle\" type=\"primary\" @click=\"addcontract_type(scope.row)\" :disabled=\"!rightControl('districtMag_edit')\">\r\n              区域修改\r\n            </el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n    <pagenation :pageparams=\"pageparams\" :itemList=\"itemList\" @handlePage=\"handlePage\"></pagenation>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport pagenation from '@/components/pagenation'\r\nimport {getDataAll,keysFilter} from '@/utils/auth'\r\nimport ApiSetting from '@/api/basicApi-estateApi'\r\nimport ApiSettingCom from '@/api/apiSetting'\r\n  export default {\r\n    name:'districtMag',\r\n    data() {\r\n      return {\r\n        dialogFormVisible: false,\r\n       pageparams:{\r\n        currentPage:1,\r\n       },\r\n        reqData: {\r\n          areaCode: '',\r\n          marketName: '',\r\n        },\r\n        itemList: [\r\n        ],\r\n        marketPartitionTypeMap:{\r\n          1:{value:\"品类划分\"},\r\n          2:{value:\"区域划分\"}\r\n        },\r\n        form: {\r\n          name: ''\r\n        },\r\n        reqDiaData:{\r\n          marketCode:\"\",\r\n          marketPartitionType:\"\",\r\n          marketPartitionNames:[{name:''}],\r\n        },\r\n        reqDiaDataCopy:{\r\n          marketCode:\"\",\r\n          marketPartitionType:\"\",\r\n          marketPartitionNames:[{name:''}],\r\n        },\r\n        formLabelWidth: '120px',\r\n        areaList:[],\r\n        setHeight:{height:0},\r\n        name:'',\r\n        marketList:[],\r\n      }\r\n\r\n    },\r\n    components:{pagenation},\r\n    created(){\r\n      this.getArea(null,'areaList',ApiSettingCom.cascaderMarket)\r\n      this.getData()\r\n    },\r\n  methods: {\r\n    // 权限判断\r\n    rightControl (id) {\r\n      return this.$store.getters.getPermission(id)\r\n    },\r\n      //取消关闭弹框\r\n       reset(){\r\n      this.dialogFormVisible = false\r\n      this.$refs['reqDiaData'].resetFields();\r\n      this.$nextTick(() => {\r\n         this.$refs['reqDiaData'].clearValidate()\r\n      })\r\n      this.reqDiaData = keysFilter(this.reqDiaDataCopy,true,[''])\r\n    },\r\n      addcontract_type(data) {\r\n        this.dialogFormVisible = true\r\n        this.reqDiaData.marketCode = data.marketCode\r\n        this.name = data.marketName\r\n        this.reqDiaData.marketPartitionType = data.marketPartitionType\r\n        if(data.marketPartitionName){\r\n          if(data.marketPartitionName.search(';') > -1){\r\n            var partitionArr = data.marketPartitionName.split(';')\r\n          var newArr = []\r\n          partitionArr.forEach((item,index) => {\r\n            var obj = {}\r\n            obj['name']=item\r\n            newArr.push(obj)\r\n        this.reqDiaData.marketPartitionNames = newArr\r\n           })\r\n             window.localStorage.setItem('marketPartitionNameLen',newArr.length)\r\n        }else{\r\n          var newArrSec = []\r\n          var obj = {}\r\n          obj['name']= data.marketPartitionName\r\n          newArrSec.push(obj)\r\n          this.reqDiaData.marketPartitionNames = newArrSec\r\n           window.localStorage.setItem('marketPartitionNameLen',1)\r\n        }\r\n        }\r\n\r\n      },\r\n      saveChange(){\r\n        let reqData = keysFilter(this.reqDiaData,'true','marketPartitionNames')\r\n        let marketPartitionNames = this.reqDiaData.marketPartitionNames.map(item =>{\r\n          return item.name\r\n        })\r\n          this.$http.post(ApiSetting.partition,{...reqData,marketPartitionNames:marketPartitionNames}).then(res => {\r\n          if(res){\r\n            if(res.code == 0){\r\n              this.$message.success(res.msg)\r\n              this.dialogFormVisible = false\r\n              this.getData()\r\n            }else{\r\n              this.$message.error(res.msg)\r\n            }\r\n          }\r\n        })\r\n      },\r\n      search() {\r\n        this.getData()\r\n      },\r\n      indexMethod(index) {\r\n      return index + (this.pageparams.currentPage - 1)*20+1\r\n    },\r\n      getData(page){\r\n        var _this = this\r\n      var page = page || this.pageparams.currentPage || \"\"\r\n      var data = {\r\n        ..._this.reqData,\r\n        currentPage:page\r\n      }\r\n        getDataAll(page,data,ApiSetting.partition,_this)\r\n      },\r\n       handlePage(val){\r\n        this.getData(val)\r\n      },\r\n      //获取省市\r\n      getArea(val,list,url){\r\n         this.$http({\r\n        url:url,\r\n        method:'get',\r\n        params:{areaCode:val}\r\n      }).then(res => {\r\n        if(res){\r\n          if(res.code == 0) {\r\n            this[list] = res.data\r\n          }\r\n        }\r\n      })\r\n    },\r\n     changeMarket(data){\r\n      this.reqData.marketName = \"\"\r\n      if(data){\r\n        this.getArea(data,'marketList',ApiSettingCom.districtSearch)\r\n      }else{\r\n        this.marketList = []\r\n      }\r\n      \r\n      },\r\n    addStoreName() {\r\n        this.reqDiaData.marketPartitionNames.push({name:''});\r\n         if(this.reqDiaData.marketPartitionNames.length > 10){\r\n           this.$message.error('最多只能填写10个范围')\r\n           return this.reqDiaData.marketPartitionNames.length = 10\r\n        }\r\n      },\r\n     deleteStoreName(index) {\r\n        this.reqDiaData.marketPartitionNames.splice(index, 1)\r\n      },\r\n    }\r\n  };\r\n</script>\r\n<style lang=\"less\">\r\n  .g-district-manage {\r\n    .c-search-form.el-form--inline .el-form-item {\r\n      width: 100%;\r\n      vertical-align: baseline;\r\n       margin-top: 2px;\r\n       font-size: 0;\r\n    }\r\n    .el-dialog .el-form-item__content {\r\n      width: 62%;\r\n      line-height: 0px;\r\n      margin-top: -1px;\r\n    }\r\n    .el-dialog table td:nth-child(2) .cell {\r\n      padding-top:20px;\r\n    }\r\n    .el-dialog table {\r\n      padding-bottom:4px;\r\n    }\r\n    .el-dialog .el-table__header-wrapper{\r\n      height: 40px;\r\n    }\r\n    .el-dialog .c-table-wrap {\r\n      padding-bottom: 0;\r\n      padding-top: 0;\r\n      margin-bottom: 20px;\r\n      th {\r\n        font-family: MicrosoftYaHei-Bold;\r\n        color: #90939A;\r\n      }\r\n   }\r\n  .el-dialog .el-form--inline .el-form-item label {\r\n    line-height: 12px !important;\r\n  }\r\n  .el-dialog .el-table td{\r\n    padding: 0;\r\n  }\r\n    .el-col-16 {\r\n      padding-right: 0px !important;\r\n    }\r\n    .m-dialog .el-dialog__body {\r\n      padding: 0px 30px;\r\n    }\r\n  }\r\n</style>\r\n<style scoped lang=\"less\">\r\n  .table-wrap {\r\n      position: relative;\r\n      margin: 0 auto;\r\n      background: #FFFFFF;\r\n      border: 1px solid #EBEBEB;\r\n      border-radius: 4px;\r\n    }\r\n    .table-add-btn {\r\n      position: absolute;\r\n      top: 5px;\r\n      right: 50px;\r\n      color: #FF7722;\r\n      font-weight: bold;\r\n      font-size: 14px;\r\n      z-index: 1;\r\n    }\r\n    .u-del.el-button--text {\r\n      color: #D8D8D8;\r\n    }\r\n    .u-add.el-button--text {\r\n      color: #1989FA;\r\n    }\r\n    .u-color{\r\n      color: #9B9B9B;\r\n    }\r\n    .u-line {\r\n      font-size: 0;\r\n    }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/basic_info/district_manage/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"g-district-manage\"},[_c('el-form',{ref:\"reqData\",staticClass:\"c-search-form\",attrs:{\"model\":_vm.reqData,\"label-width\":\"102px\",\"inline\":true,\"label-position\":\"right\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"prop\":\"areaCode\",\"label\":\"所在省市\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\"},on:{\"change\":function($event){_vm.changeMarket(_vm.reqData.areaCode)}},model:{value:(_vm.reqData.areaCode),callback:function ($$v) {_vm.$set(_vm.reqData, \"areaCode\", $$v)},expression:\"reqData.areaCode\"}},_vm._l((_vm.areaList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.areaName,\"value\":item.areaCode}})}))],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"商场名称\",\"prop\":\"marketName\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.reqData.marketName),callback:function ($$v) {_vm.$set(_vm.reqData, \"marketName\", $$v)},expression:\"reqData.marketName\"}},_vm._l((_vm.marketList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.marketName,\"value\":item.marketName}})}))],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}},[_c('el-button',{staticClass:\"btn-search\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.search}},[_vm._v(\"查询\")])],1)],1)],1),_vm._v(\" \"),_c('el-dialog',{staticClass:\"m-dialog\",attrs:{\"title\":\"区域-修改\",\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event},\"close\":_vm.reset}},[_c('el-form',{ref:\"reqDiaData\",staticClass:\"c-search-form\",attrs:{\"model\":_vm.reqDiaData,\"label-width\":\"\",\"inline\":true,\"label-position\":\"right\"}},[_c('el-row',{staticClass:\"u-line\"},[_c('el-col',{attrs:{\"span\":8}},[_c('span',[_vm._v(\"商场名称：\")]),_vm._v(\" \"),_c('span',{staticClass:\"u-color\"},[_vm._v(_vm._s(_vm.name))])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":16}},[_c('el-form-item',{attrs:{\"label\":\"划分规则\",\"label-width\":\"110px\",\"prop\":\"marketPartitionType\",\"rules\":{\n    required: true, message: '划分规则不能为空', trigger: 'blur'\n        }}},[_c('el-radio-group',{model:{value:(_vm.reqDiaData.marketPartitionType),callback:function ($$v) {_vm.$set(_vm.reqDiaData, \"marketPartitionType\", $$v)},expression:\"reqDiaData.marketPartitionType\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"品类划分\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":2}},[_vm._v(\"区域划分\")])],1)],1)],1)],1),_vm._v(\" \"),_c('el-row',{staticClass:\"c-table-wrap table-wrap\"},[_c('el-button',{staticClass:\"table-add-btn u-add\",attrs:{\"type\":\"text\",\"icon\":\"el-icon-circle-plus-outline\"},on:{\"click\":function($event){_vm.addStoreName()}}}),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.reqDiaData.marketPartitionNames,\"align\":\"center\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"type\":\"index\",\"label\":\"序号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"\",\"label\":\"区域名称\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-form-item',{key:scope.$index,attrs:{\"prop\":'marketPartitionNames.'+scope.$index+'.name',\"rules\":[{\n           required: true, message: '区域名不能为空', trigger: 'blur'\n              },{\n           max: 20, message: '字数限制为20字', trigger: 'blur'\n              }]}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(scope.row.name),callback:function ($$v) {_vm.$set(scope.row, \"name\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"scope.row.name\"}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"\",\"min-width\":\"20\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.$index != 0 )?_c('el-button',{staticClass:\"u-del\",attrs:{\"type\":\"text\",\"icon\":\"el-icon-remove-outline\"},on:{\"click\":function($event){_vm.deleteStoreName(scope.$index)}}}):_vm._e()]}}])})],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{staticClass:\"btn-save\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveChange}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"btn-reset\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.reset}},[_vm._v(\"取消\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"c-table-wrap\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.itemList,\"align\":\"center\",\"stripe\":\"\",\"height\":\"500\"}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"type\":\"index\",\"label\":\"序号\",\"width\":\"50\",\"index\":_vm.indexMethod}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"marketName\",\"label\":\"商场名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"marketCode\",\"label\":\"商场编码\",\"width\":\"160\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"areaCodeName\",\"label\":\"所在省市\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"status\",\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n          \"+_vm._s(scope.row.status == true?\"启用\":\"禁用\")+\"\\n        \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"responsibleUserName\",\"label\":\"负责人\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"contactTel\",\"label\":\"负责人联系电话\",\"min-width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"address\",\"label\":\"商场地址\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"createUserName\",\"label\":\"添加人\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"createTime\",\"label\":\"添加时间\",\"min-width\":\"165\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"marketPartitionType\",\"label\":\"规划规则\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n          \"+_vm._s(scope.row.marketPartitionType?_vm.marketPartitionTypeMap[scope.row.marketPartitionType].value:'--')+\"\\n        \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"marketPartitionName\",\"label\":\"区域名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\",\"min-width\":\"100\",\"fixed\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{staticClass:\"btn-handle\",attrs:{\"type\":\"primary\",\"disabled\":!_vm.rightControl('districtMag_edit')},on:{\"click\":function($event){_vm.addcontract_type(scope.row)}}},[_vm._v(\"\\n            区域修改\\n          \")])]}}])})],1)],1),_vm._v(\" \"),_c('pagenation',{attrs:{\"pageparams\":_vm.pageparams,\"itemList\":_vm.itemList},on:{\"handlePage\":_vm.handlePage}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-3d3301a6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/views/basic_info/district_manage/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3d3301a6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3d3301a6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=1!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3d3301a6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3d3301a6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/basic_info/district_manage/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}