{"version":3,"sources":["webpack:///src/views/operation_manage/adsense_manage/edit_rental/index.vue","webpack:///./src/views/operation_manage/adsense_manage/edit_rental/index.vue?d2de","webpack:///./src/views/operation_manage/adsense_manage/edit_rental/index.vue"],"names":["edit_rental","name","data","time","pickerOptions","shortcuts","text","onClick","picker","end","Date","start","setTime","getTime","$emit","rules","marketCode","required","message","trigger","billboardCode","merchantCode","timeSelect","signPrice","pattern","finalPrice","storeNameOption","advertiseList","merchantList","merchantTypeList","desc","value","ruleForm","merchantName","merchantType","beginTime","endTime","duration","storeOptionDisabled","methods","getOptionData","_this","this","$http","get","operation_manage","allStore","promise_default","a","all","then","res","code","concat","toConsumableArray_default","$store","getters","currentUser","console","log","getAdvertiseOptionData","_this2","advertiseOption","selectAdvertiseOption","merchantOption","merchants","timeSelected","e","timeArr","submitForm","formName","_this3","$refs","validate","valid","put","advertiseRentalList","bdRentCode","$message","success","msg","$router","push","error","resetForm","resetFields","beforeMount","_this4","$route","params","id","singleRental","assign_default","obj","extends_default","adsense_manage_edit_rental","render","_vm","_h","$createElement","_c","_self","staticClass","_v","ref","attrs","model","label-width","inline","label-position","span","label","prop","disabled","clearable","placeholder","on","change","callback","$$v","$set","trim","expression","_l","item","index","key","marketName","staticStyle","text-align","billboardName","type","align","unlink-panels","range-separator","start-placeholder","end-placeholder","value-format","picker-options","_s","click","$event","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/22.0964815252f7f50339c9.js","sourcesContent":["<template>\r\n  <div class=\"contract-receipts edit-rental\">\r\n    <div class=\"main-title\">\r\n      <!--<span class=\"el-icon-back back-btn\" @click=\"$router.go(-1)\"></span>-->\r\n      修改登记信息\r\n    </div>\r\n    <br>\r\n    <el-form class=\"c-search-form\" :rules=\"rules\" :model=\"ruleForm\" ref=\"ruleForm\" label-width=\"110px\" :inline=\"true\"\r\n             label-position=\"right\">\r\n      <el-row>\r\n        <el-col :span=\"8\">\r\n          <el-form-item label=\"商场\" prop=\"marketCode\">\r\n            <el-select v-model.trim=\"ruleForm.marketCode\" :disabled=\"storeOptionDisabled\" clearable placeholder=\"请选择\" @change=\"getAdvertiseOptionData\">\r\n              <el-option\r\n                v-for=\"(item, index) in storeNameOption\"\r\n                :key=\"index\"\r\n                :label=\"item.marketName\"\r\n                :value=\"item.marketCode\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\" style=\"text-align: left\">\r\n          <el-form-item label=\"广告位\" prop=\"billboardCode\">\r\n            <el-select v-model.trim=\"ruleForm.billboardCode\" clearable placeholder=\"请选择\">\r\n              <el-option\r\n                v-for=\"(item, index) in advertiseList\"\r\n                :key=\"index\"\r\n                :label=\"item.billboardName\"\r\n                :value=\"item.billboardCode\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"8\">\r\n          <el-form-item label=\"商户类型\" prop=\"merchantType\">\r\n            <el-select v-model.trim=\"ruleForm.merchantType\" clearable placeholder=\"请选择\">\r\n              <el-option\r\n                v-for=\"(item, index) in merchantTypeList\"\r\n                :key=\"index\"\r\n                :label=\"item.desc\"\r\n                :value=\"item.value\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\" style=\"text-align: left\">\r\n          <el-form-item label=\"投放商户\" prop=\"merchantCode\" v-if=\"ruleForm.merchantType===2\">\r\n            <el-select v-model.trim=\"ruleForm.merchantCode\" clearable placeholder=\"请选择\">\r\n              <el-option\r\n                v-for=\"(item, index) in merchantList\"\r\n                :key=\"index\"\r\n                :label=\"item.merchantName\"\r\n                :value=\"item.merchantCode\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"投放商户\" prop=\"merchantName\" v-else>\r\n            <el-input v-model.trim=\"ruleForm.merchantName\"  placeholder=\"请输入\"></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"8\" style=\"text-align: left\">\r\n          <el-form-item label=\"投放时间\" prop=\"timeSelect\">\r\n            <el-date-picker\r\n              v-model.trim=\"ruleForm.timeSelect\"\r\n              type=\"daterange\"\r\n              align=\"right\"\r\n              unlink-panels\r\n              range-separator=\"至\"\r\n              start-placeholder=\"开始日期\"\r\n              end-placeholder=\"结束日期\"\r\n              value-format=\"yyyy-MM-dd\"\r\n              @change=\"timeSelected\"\r\n              :picker-options=\"pickerOptions\">\r\n            </el-date-picker>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\" style=\"text-align: left\">\r\n          <el-form-item label=\"时长\">\r\n            <span class=\"duration-day\">{{ruleForm.duration||0}}  天</span>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"8\" style=\"text-align: left\">\r\n          <el-form-item label=\"签约价格\" prop=\"signPrice\">\r\n            <el-input clearable v-model.trim=\"ruleForm.signPrice\"></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\" style=\"text-align: left\">\r\n          <el-form-item label=\"实际成交价格\" prop=\"finalPrice\">\r\n            <el-input clearable v-model.trim=\"ruleForm.finalPrice\"></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <div class=\"save-div\">\r\n        <el-button class=\"btn-save-big\" type=\"primary\" @click=\"submitForm('ruleForm')\">保存</el-button>\r\n      </div>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import api from '@/api/operation-manage';\r\n\r\n  export default {\r\n    name:'editRental',\r\n\r\n    data() {\r\n      return {\r\n        time: '',\r\n        pickerOptions: {\r\n          shortcuts: [{\r\n            text: '最近一周',\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n              picker.$emit('pick', [start, end]);\r\n            }\r\n          }, {\r\n            text: '最近一个月',\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\r\n              picker.$emit('pick', [start, end]);\r\n            }\r\n          }, {\r\n            text: '最近三个月',\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\r\n              picker.$emit('pick', [start, end]);\r\n            }\r\n          }]\r\n        },\r\n        rules: {\r\n          marketCode: [{required: true, message: '请选择所属商场', trigger: 'change'}],\r\n          billboardCode: [{required: true, message: '请选择广告位', trigger: 'change'}],\r\n          merchantCode: [{required: true, message: '请选择投放商户', trigger: 'change'}],\r\n          timeSelect: [{required: true, message: '请选择上架时间', trigger: 'change'}],\r\n          signPrice: [{required: true, message: '请输入签约价格', trigger: 'blur'},\r\n            {trigger: 'blur', pattern: /^\\d+(?:\\.\\d{1,2})?$/, message: '请输入大于零等于零的数字，最多保留两位小数'}\r\n          ],\r\n          finalPrice: [{required: true, message: '请输入实际成交价格', trigger: 'blur'},\r\n            {trigger: 'blur', pattern: /^\\d+(?:\\.\\d{1,2})?$/, message: '请输入大于等于零的数字，最多保留两位小数'}\r\n          ],\r\n        },\r\n        storeNameOption: [],\r\n        advertiseList: [],\r\n        merchantList: [],\r\n        merchantTypeList:[{desc:'外部商户',value:1},{desc:'内部商户',value:2}],\r\n        ruleForm: {\r\n          marketCode: '',\r\n          billboardCode: '',\r\n          merchantCode: '',\r\n          merchantName: '',\r\n          merchantType: 2,\r\n          timeSelect:[],\r\n          beginTime: '',\r\n          endTime: '',\r\n          duration: '',\r\n          signPrice: '',\r\n          finalPrice: ''\r\n        },\r\n        storeOptionDisabled:false\r\n      }\r\n    },\r\n    methods: {\r\n      getOptionData() {\r\n        let storeNameOption = this.$http.get(api.allStore);\r\n        Promise.all([storeNameOption]).then(res => {\r\n          if (res[0].code === 0) {\r\n            this.storeNameOption = [];\r\n            this.storeNameOption = [...res[0].data];\r\n            let { marketCode } = this.$store.getters.currentUser;\r\n            console.log('editRental',marketCode)\r\n            if(marketCode){\r\n              this.ruleForm.marketCode=marketCode;\r\n              this.storeOptionDisabled=true;\r\n              this.getAdvertiseOptionData();\r\n            }\r\n          }\r\n        })\r\n      },\r\n      getAdvertiseOptionData() {\r\n        if (this.ruleForm.marketCode !== '') {\r\n          //广告位下拉框\r\n          let advertiseOption = this.$http.get(api.selectAdvertiseOption + `?marketCode=${this.ruleForm.marketCode}&bdStatus=1`);\r\n          //商户下拉框\r\n          let merchantOption = this.$http.get(api.merchants + `?marketCode=${this.ruleForm.marketCode}`);\r\n          Promise.all([advertiseOption, merchantOption]).then(res => {\r\n            if (res[0].code === 0) {\r\n              this.advertiseList = [];\r\n              this.advertiseList = [...res[0].data];\r\n            }\r\n            if (res[1].code === 0) {\r\n              this.merchantList = [];\r\n              this.merchantList = [...res[1].data];\r\n            }\r\n          })\r\n        } else {\r\n          this.advertiseList = [];\r\n          this.merchantList = [];\r\n        }\r\n      },\r\n      timeSelected(e) {\r\n        if (e === null) {\r\n          this.ruleForm.duration = '';\r\n          this.ruleForm.beginTime = '';\r\n          this.ruleForm.endTime = '';\r\n        } else {\r\n          let timeArr = [...e];\r\n          this.ruleForm.beginTime = timeArr[0];\r\n          this.ruleForm.endTime = timeArr[1];\r\n          //计算时长\r\n          let start = new Date(timeArr[0]);\r\n          let end = new Date(timeArr[1]);\r\n          this.ruleForm.duration = ((end - start) / 1000 / (24 * 60 * 60)+1) + '';\r\n        }\r\n      },\r\n      submitForm(formName) {\r\n        this.$refs[formName].validate((valid) => {\r\n          if (valid) {\r\n            this.$http.put(api.advertiseRentalList+`/${this.ruleForm.bdRentCode}`, this.ruleForm).then(res => {\r\n              if (res.code === 0) {\r\n                this.$message.success(res.msg);\r\n                this.$router.push('/operation/rental');\r\n              } else {\r\n                this.$message.error(res.msg);\r\n              }\r\n            })\r\n          } else {\r\n            console.log('error submit!!');\r\n            return false;\r\n          }\r\n        });\r\n      },\r\n      resetForm(formName) {\r\n        this.$refs[formName].resetFields();\r\n      },\r\n    },\r\n    beforeMount() {\r\n      this.getOptionData();\r\n      //获取数据\r\n      let bdRentCode = this.$route.params.id;\r\n      if (bdRentCode) {\r\n        this.$http.get(api.singleRental + `/${bdRentCode}`).then(res => {\r\n            Object.assign(this.ruleForm,res.data);\r\n            this.getAdvertiseOptionData();\r\n            //时间处理\r\n            let obj={...this.ruleForm};\r\n            this.ruleForm.timeSelect=[];\r\n            this.ruleForm.timeSelect.push(obj.beginTime);\r\n            this.ruleForm.timeSelect.push(obj.endTime);\r\n            //商户类型处理\r\n            this.ruleForm.merchantType=obj.merchantType.code;\r\n            //投放商户处理\r\n            this.ruleForm.merchantCode=obj.merchantCode+'';\r\n            //投放商户处理\r\n            if(this.ruleForm.merchantType===2){\r\n              this.ruleForm.merchantName='';\r\n            }else{\r\n              this.ruleForm.merchantName=obj.merchantName;\r\n              this.ruleForm.merchantCode='';\r\n            }\r\n            //实际成交价格处理\r\n          if(this.ruleForm.finalPrice===0)this.ruleForm.finalPrice='';\r\n        })\r\n      }\r\n    }\r\n  };\r\n</script>\r\n<style lang=\"less\" scoped>\r\n  .contract-receipts {\r\n    .footer-btn {\r\n      width: 342px;\r\n      text-align: right;\r\n    }\r\n  }\r\n\r\n  .unit-div {\r\n    margin-top: 30px;\r\n    text-align: right;\r\n  }\r\n\r\n  .save-div {\r\n    width: 60%;\r\n    text-align: center;\r\n    margin-top: 30px;\r\n  }\r\n</style>\r\n<style lang=\"less\">\r\n  .edit-rental {\r\n    .main-title {\r\n      width: 60%;\r\n      height: 28px;\r\n      line-height: 28px;\r\n      font-size: 16px;\r\n      color: #444444;\r\n      font-weight: bold;\r\n      text-align: center;\r\n      margin-bottom: 30px;\r\n      .back-btn {\r\n        display: inline-block;\r\n        width: 27px;\r\n        height: 27px;\r\n        line-height: 27px;\r\n        border: 1px solid #EBEBEB;\r\n        border-radius: 50%;\r\n        color: #EBEBEB;\r\n        cursor: pointer;\r\n        font-weight: bold;\r\n        float: left;\r\n      }\r\n    }\r\n    .duration-day {\r\n      display: inline-block;\r\n      text-indent: 10px;\r\n      white-space: pre;\r\n    }\r\n    .el-input.is-disabled .el-input__inner{\r\n      height: 36px!important;\r\n    }\r\n    .el-date-editor--daterange.el-input__inner{\r\n      width: 270px;\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/operation_manage/adsense_manage/edit_rental/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"contract-receipts edit-rental\"},[_c('div',{staticClass:\"main-title\"},[_vm._v(\"\\n    修改登记信息\\n  \")]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('el-form',{ref:\"ruleForm\",staticClass:\"c-search-form\",attrs:{\"rules\":_vm.rules,\"model\":_vm.ruleForm,\"label-width\":\"110px\",\"inline\":true,\"label-position\":\"right\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"商场\",\"prop\":\"marketCode\"}},[_c('el-select',{attrs:{\"disabled\":_vm.storeOptionDisabled,\"clearable\":\"\",\"placeholder\":\"请选择\"},on:{\"change\":_vm.getAdvertiseOptionData},model:{value:(_vm.ruleForm.marketCode),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"marketCode\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"ruleForm.marketCode\"}},_vm._l((_vm.storeNameOption),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.marketName,\"value\":item.marketCode}})}))],1)],1),_vm._v(\" \"),_c('el-col',{staticStyle:{\"text-align\":\"left\"},attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"广告位\",\"prop\":\"billboardCode\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.ruleForm.billboardCode),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"billboardCode\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"ruleForm.billboardCode\"}},_vm._l((_vm.advertiseList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.billboardName,\"value\":item.billboardCode}})}))],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"商户类型\",\"prop\":\"merchantType\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.ruleForm.merchantType),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"merchantType\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"ruleForm.merchantType\"}},_vm._l((_vm.merchantTypeList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.desc,\"value\":item.value}})}))],1)],1),_vm._v(\" \"),_c('el-col',{staticStyle:{\"text-align\":\"left\"},attrs:{\"span\":8}},[(_vm.ruleForm.merchantType===2)?_c('el-form-item',{attrs:{\"label\":\"投放商户\",\"prop\":\"merchantCode\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.ruleForm.merchantCode),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"merchantCode\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"ruleForm.merchantCode\"}},_vm._l((_vm.merchantList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.merchantName,\"value\":item.merchantCode}})}))],1):_c('el-form-item',{attrs:{\"label\":\"投放商户\",\"prop\":\"merchantName\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.ruleForm.merchantName),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"merchantName\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"ruleForm.merchantName\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{staticStyle:{\"text-align\":\"left\"},attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"投放时间\",\"prop\":\"timeSelect\"}},[_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"align\":\"right\",\"unlink-panels\":\"\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"value-format\":\"yyyy-MM-dd\",\"picker-options\":_vm.pickerOptions},on:{\"change\":_vm.timeSelected},model:{value:(_vm.ruleForm.timeSelect),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"timeSelect\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"ruleForm.timeSelect\"}})],1)],1),_vm._v(\" \"),_c('el-col',{staticStyle:{\"text-align\":\"left\"},attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"时长\"}},[_c('span',{staticClass:\"duration-day\"},[_vm._v(_vm._s(_vm.ruleForm.duration||0)+\"  天\")])])],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{staticStyle:{\"text-align\":\"left\"},attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"签约价格\",\"prop\":\"signPrice\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.ruleForm.signPrice),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"signPrice\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"ruleForm.signPrice\"}})],1)],1),_vm._v(\" \"),_c('el-col',{staticStyle:{\"text-align\":\"left\"},attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"实际成交价格\",\"prop\":\"finalPrice\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.ruleForm.finalPrice),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"finalPrice\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"ruleForm.finalPrice\"}})],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"save-div\"},[_c('el-button',{staticClass:\"btn-save-big\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.submitForm('ruleForm')}}},[_vm._v(\"保存\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c24bda6c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/operation_manage/adsense_manage/edit_rental/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c24bda6c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c24bda6c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c24bda6c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-c24bda6c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/operation_manage/adsense_manage/edit_rental/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}