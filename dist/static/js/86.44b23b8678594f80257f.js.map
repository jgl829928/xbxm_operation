{"version":3,"sources":["webpack:///src/views/contract_manage/template_maintenance/index.vue","webpack:///./src/views/contract_manage/template_maintenance/index.vue?4969","webpack:///./src/views/contract_manage/template_maintenance/index.vue"],"names":["template_maintenance","name","mixins","data","dialogTitle","province","location","addTplDialog","reqData","contractTplName","contractTypeCode","contractTplStatus","contractsTypeList","statusList","label","value","itemList","addTplForm","contractTplId","contractTplUrl","fileList","isAdd","uploadUrl","upHeaders","gTicket","sys_authentication","sys_id","rules","required","message","trigger","mounted","this","getList","contact","contractTpls","getContractsType","_$http$defaults","$http","defaults","baseURL","headers","$store","getters","uploadContract","methods","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","res","wrap","_context","prev","next","get","basicContracts","sent","stop","search","currentPage","handleStatus","item","_this2","_callee2","_context2","abrupt","put","$message","success","addTpl","_this3","sta","arguments","length","undefined","addTplSta","setTimeout","$refs","clearValidate","contractType","submitAddTpl","_ref","_this4","validate","_callee3","valid","_context3","error","post","_x2","apply","handleFileSuccess","file","code","msg","handleRemove","beforeRemove","contract_manage_template_maintenance","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","model","label-width","inline","label-position","span","clearable","callback","$$v","$set","expression","_v","placeholder","_l","index","key","contractTypeName","offset","type","icon","on","click","gutter","checkKey","$event","_e","staticStyle","width","height","align","stripe","indexMethod","prop","min-width","scopedSlots","_u","fn","scope","_s","row","desc","fixed","class","disabled","pageparams","pageInfo","handlePage","title","visible","update:visible","action","accept","file-list","on-success","on-remove","before-remove","slot","size","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/86.44b23b8678594f80257f.js","sourcesContent":["<template>\r\n  <div class=\"contract-receipts\">\r\n    <el-form  class=\"c-search-form\" :model=\"reqData\" ref=\"reqData\" label-width=\"102px\" :inline=\"true\"\r\n              label-position=\"right\">\r\n      <el-row>\r\n        <el-col :span=\"8\">\r\n          <el-form-item label=\"合同名称\">\r\n            <el-input clearable v-model=\"reqData.contractTplName\"></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item label=\"合同类型\">\r\n              <el-select v-model=\"reqData.contractTypeCode\" clearable placeholder=\"请选择\">\r\n                <el-option\r\n                  v-for=\"(item, index) in contractsTypeList\"\r\n                  :key=\"index\"\r\n                  :label=\"item.contractTypeName\"\r\n                  :value=\"item.contractTypeCode\">\r\n                </el-option>\r\n              </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-form-item label=\"所属省份\">\r\n              <el-select v-model=\"location\" clearable placeholder=\"请选择\">\r\n                <el-option\r\n                  v-for=\"(item, index) in province\"\r\n                  :key=\"index\"\r\n                  :label=\"item.label\"\r\n                  :value=\"item.value\">\r\n                </el-option>\r\n              </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"8\">\r\n          <el-form-item label=\"状态\">\r\n            <el-select v-model=\"reqData.contractTplStatus\" clearable placeholder=\"请选择\">\r\n              <el-option\r\n                v-for=\"(item, index) in statusList\"\r\n                :key=\"index\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :offset=\"8\" :span=\"8\">\r\n          <div class=\"c-footer-btn\">\r\n            <el-button class=\"btn-search\" type=\"primary\" icon=\"el-icon-search\" @click=\"search\">查询</el-button>\r\n          </div>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row :gutter=\"32\">\r\n        <el-col :span=\"8\">\r\n          <el-button v-if=\" checkKey('templateMain_1')\" class=\"btn-search btn-add\"\r\n                     type=\"primary\" @click=\"addTpl('new')\">添加</el-button>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n    <div class=\"c-table-wrap\">\r\n      <el-table\r\n        :data=\"itemList\"\r\n        style=\"width: 100%\"\r\n        height=\"500\"\r\n        align=\"center\"\r\n        stripe>\r\n        <el-table-column\r\n          align=\"center\"\r\n          type=\"index\"\r\n          label=\"序号\"\r\n          width=\"50\"\r\n          :index=\"indexMethod\">\r\n        </el-table-column>\r\n        <el-table-column\r\n          align=\"center\"\r\n          prop=\"ss\"\r\n          label=\"省市\">\r\n        </el-table-column>\r\n        <el-table-column\r\n          align=\"center\"\r\n          prop=\"contractTplName\"\r\n          label=\"合同名称\"\r\n          min-width=\"120\">\r\n        </el-table-column>\r\n        <el-table-column\r\n          align=\"center\"\r\n          label=\"合同类型\"\r\n          min-width=\"120\">\r\n          <template slot-scope=\"scope\">\r\n            <span>{{scope.row.contractType ? scope.row.contractType.contractTypeName:''}}</span>\r\n          </template>\r\n        </el-table-column>\r\n         <el-table-column\r\n          align=\"center\"\r\n          label=\"状态\">\r\n           <template slot-scope=\"scope\">\r\n             <span>{{scope.row.contractTplStatus ? scope.row.contractTplStatus.desc:''}}</span>\r\n           </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          align=\"center\"\r\n          prop=\"createTime\"\r\n          label=\"创建时间\"\r\n          min-width=\"165\">\r\n        </el-table-column>\r\n        <el-table-column\r\n          align=\"center\"\r\n          prop=\"createUserName\"\r\n          label=\"创建人\">\r\n        </el-table-column>\r\n        <el-table-column\r\n          align=\"center\"\r\n          prop=\"updateTime\"\r\n          label=\"最后修改时间\"\r\n          min-width=\"165\">\r\n        </el-table-column>\r\n        <el-table-column\r\n          align=\"center\"\r\n          prop=\"updateUserName\"\r\n          label=\"最后修改人\"\r\n          min-width=\"100\">\r\n        </el-table-column>\r\n        <el-table-column\r\n          align=\"center\"\r\n          label=\"操作\"\r\n          fixed=\"right\"\r\n          min-width=\"200\">\r\n          <template slot-scope=\"scope\">\r\n          \t<el-button class=\"btn-handle\"\r\n                       type=\"primary\"\r\n                       :class=\"scope.row.contractTplStatus &&\r\n                        scope.row.contractTplStatus.code === 1 ? 'stop':'start'\"\r\n                       :disabled=\"!checkKey('templateMain_2')\"\r\n                       @click=\"handleStatus(scope.row)\">\r\n                {{scope.row.contractTplStatus ?\r\n                   scope.row.contractTplStatus.code === 1 ? '停用':'启用'\r\n                  : '--'}}\r\n            </el-button>\r\n            <el-button :disabled=\"!checkKey('templateMain_3')\"\r\n                       class=\"btn-handle\" type=\"primary\" @click=\"addTpl('revise',scope.row)\">修改</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n    <!--分页-->\r\n    <pagenation :pageparams=\"pageInfo\" :itemList=\"itemList\" @handlePage=\"handlePage\"/>\r\n    <!--合同模板-添加&修改-->\r\n    <el-dialog\r\n      :title=\"dialogTitle\"\r\n      :visible.sync=\"addTplDialog\"\r\n      width=\"30%\"\r\n      class=\"m-dialog add-tpl-dialog\">\r\n      <el-form :model=\"addTplForm\" :rules=\"rules\" ref=\"addTplForm\" label-width=\"100px\" >\r\n        <el-form-item label=\"合同名称\" prop=\"contractTplName\">\r\n          <el-input :disabled=\"!isAdd\" v-model=\"addTplForm.contractTplName\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"合同类型\" prop=\"contractTypeCode\">\r\n          <el-select class=\"el-input-30\" v-model=\"addTplForm.contractTypeCode\" :disabled=\"!isAdd\" clearable placeholder=\"请选择\">\r\n            <el-option\r\n              v-for=\"(item, index) in contractsTypeList\"\r\n              :key=\"index\"\r\n              :label=\"item.contractTypeName\"\r\n              :value=\"item.contractTypeCode\">\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"上传模板\">\r\n          <el-upload\r\n            ref=\"upload\"\r\n            :headers=\"upHeaders\"\r\n            :action=\"uploadUrl\"\r\n            accept=\".docx\"\r\n            :file-list=\"fileList\"\r\n            :on-success=\"handleFileSuccess\"\r\n            :on-remove=\"handleRemove\"\r\n            :before-remove=\"beforeRemove\">\r\n            <el-button slot=\"trigger\" size=\"small\" class=\"choose-file-btn\" type=\"primary\">选取文件</el-button>\r\n            <div slot=\"tip\" class=\"el-upload__tip\">只能上传.docx文件</div>\r\n          </el-upload>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button class=\"btn-save\" type=\"primary\"  @click=\"submitAddTpl\">保存</el-button>\r\n        <el-button class=\"btn-reset\" type=\"primary\" @click=\"addTplDialog=false\">取消</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\n  import Api from '@/api/contact'\r\n  import { pageListMixin } from '@/utils/mixin'\r\nexport default {\r\n  name:'templateMain',\r\n  mixins: [pageListMixin],\r\n  data() {\r\n    return {\r\n      dialogTitle:'合同模板-添加',\r\n      province:[], //省份列表\r\n      location:'',//省份\r\n      addTplDialog: false,\r\n      reqData:{\r\n        contractTplName:'',\r\n        contractTypeCode:'',\r\n        contractTplStatus:''\r\n      },\r\n      contractsTypeList:[], //合同类型\r\n      statusList:[\r\n        {label: '启用', value: 1},\r\n        {label: '停用', value: 2},\r\n      ],\r\n      itemList:[],\r\n      addTplForm:{\r\n        contractTplId:'',\r\n        contractTplName:'',\r\n        contractTypeCode:'',\r\n        contractTplUrl:''\r\n      },\r\n      fileList:[], // 文件列表\r\n      isAdd: true, // 是否是新增\r\n      uploadUrl:'',\r\n      upHeaders:{\r\n        gTicket:'',\r\n        sys_authentication:'',\r\n        sys_id:''\r\n      },\r\n      rules: { // 添加模板\r\n        contractTplName: [\r\n          { required: true, message: '请输入合同名称', trigger: 'blur' },\r\n        ],\r\n        contractTypeCode: [\r\n          { required: true, message: '请选择合同类型', trigger: 'change' }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getList(Api.contractTpls);\r\n    this.getContractsType();\r\n    let { baseURL, headers } = this.$http.defaults;\r\n    let { sys_authentication,sys_id } = headers;\r\n    this.upHeaders = { gTicket: this.$store.getters.gTicket, sys_authentication, sys_id };\r\n    this.uploadUrl = baseURL + Api.uploadContract;\r\n  },\r\n  methods: {\r\n    async getContractsType() {\r\n      let res = await this.$http.get(Api.basicContracts);\r\n      if(res){\r\n        this.contractsTypeList = res.data;\r\n      }\r\n    },\r\n    search() {\r\n      this.reqData.currentPage = 1;\r\n      this.getList(Api.contractTpls);\r\n    },\r\n    async handleStatus(item) {\r\n      let contractTplId = item.contractTplId ? item.contractTplId : '';\r\n      if(!contractTplId) return false;\r\n      let res = await this.$http.put(`${Api.contractTpls}/${contractTplId}`);\r\n      if(res){\r\n        this.$message.success('操作成功');\r\n        this.getList(Api.contractTpls);\r\n      }\r\n    },\r\n    addTpl(sta = 'new', item) {\r\n      this.addTplDialog = true;\r\n      this.addTplSta = sta;\r\n      setTimeout(()=>{\r\n        this.$refs['addTplForm'].clearValidate();\r\n      },20);\r\n      if(sta !== 'new'){\r\n        this.isAdd = false;\r\n        let { contractTplId, contractType, contractTplName } = item;\r\n        this.addTplForm = {\r\n          contractTplId,\r\n          contractTplName,\r\n          contractTypeCode: contractType.contractTypeCode,\r\n          contractTplUrl:''\r\n        };\r\n        this.dialogTitle = '合同模板-修改';\r\n        this.fileList = [{ name: `${contractTplName}.docx` }];\r\n      }else {\r\n        this.isAdd = true;\r\n        this.addTplForm = {\r\n          contractTplName:'',\r\n          contractTypeCode:'',\r\n          contractTplUrl:''\r\n        };\r\n        this.fileList = [];\r\n        this.dialogTitle = '合同模板-添加'\r\n      }\r\n    },\r\n    submitAddTpl() {\r\n      this.$refs['addTplForm'].validate(async (valid) => {\r\n        if (valid) {\r\n          if(this.isAdd && !this.addTplForm.contractTplUrl) return this.$message.error('请选择模板并上传文件');\r\n          let res;\r\n          if(this.addTplSta === 'new'){\r\n            res = await this.$http.post(Api.contractTpls, this.addTplForm)\r\n          }else {\r\n            res = await this.$http.put(Api.contractTpls, this.addTplForm)\r\n          }\r\n          if(res){\r\n            this.addTplDialog = false;\r\n            this.$message.success('操作成功');\r\n            this.getList(Api.contractTpls);\r\n          }\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    handleFileSuccess(file, fileList) {\r\n      this.fileList = [ fileList ];\r\n      if(file.code === 0) {\r\n        this.addTplForm.contractTplUrl = file.data.contractTplUrl\r\n      }else {\r\n        this.fileList = [];\r\n        if(file.message){\r\n          this.$message.error(file.message);\r\n        }else {\r\n          let msg = file.msg || '请稍后再试';\r\n          this.$message.error(msg);\r\n        }\r\n      }\r\n    },\r\n    handleRemove() {\r\n      this.addTplForm.contractTplUrl = ''\r\n    },\r\n    beforeRemove() {\r\n      return false\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\">\r\n  .add-tpl-dialog{\r\n    .el-form-item__content{\r\n      width: inherit !important;\r\n    }\r\n    .choose-file-btn{\r\n      color: #1989FA;\r\n      background-color: #fff;\r\n      border-color: #1989FA;\r\n    }\r\n    .el-upload-list li.el-upload-list__item{\r\n      &>i{\r\n        display: none !important;\r\n      };\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/contract_manage/template_maintenance/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"contract-receipts\"},[_c('el-form',{ref:\"reqData\",staticClass:\"c-search-form\",attrs:{\"model\":_vm.reqData,\"label-width\":\"102px\",\"inline\":true,\"label-position\":\"right\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"合同名称\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.reqData.contractTplName),callback:function ($$v) {_vm.$set(_vm.reqData, \"contractTplName\", $$v)},expression:\"reqData.contractTplName\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"合同类型\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.reqData.contractTypeCode),callback:function ($$v) {_vm.$set(_vm.reqData, \"contractTypeCode\", $$v)},expression:\"reqData.contractTypeCode\"}},_vm._l((_vm.contractsTypeList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.contractTypeName,\"value\":item.contractTypeCode}})}))],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"所属省份\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.location),callback:function ($$v) {_vm.location=$$v},expression:\"location\"}},_vm._l((_vm.province),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.label,\"value\":item.value}})}))],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"状态\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.reqData.contractTplStatus),callback:function ($$v) {_vm.$set(_vm.reqData, \"contractTplStatus\", $$v)},expression:\"reqData.contractTplStatus\"}},_vm._l((_vm.statusList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.label,\"value\":item.value}})}))],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"offset\":8,\"span\":8}},[_c('div',{staticClass:\"c-footer-btn\"},[_c('el-button',{staticClass:\"btn-search\",attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.search}},[_vm._v(\"查询\")])],1)])],1),_vm._v(\" \"),_c('el-row',{attrs:{\"gutter\":32}},[_c('el-col',{attrs:{\"span\":8}},[( _vm.checkKey('templateMain_1'))?_c('el-button',{staticClass:\"btn-search btn-add\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.addTpl('new')}}},[_vm._v(\"添加\")]):_vm._e()],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"c-table-wrap\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.itemList,\"height\":\"500\",\"align\":\"center\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"type\":\"index\",\"label\":\"序号\",\"width\":\"50\",\"index\":_vm.indexMethod}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"ss\",\"label\":\"省市\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"contractTplName\",\"label\":\"合同名称\",\"min-width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"合同类型\",\"min-width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.contractType ? scope.row.contractType.contractTypeName:''))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.contractTplStatus ? scope.row.contractTplStatus.desc:''))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"createTime\",\"label\":\"创建时间\",\"min-width\":\"165\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"createUserName\",\"label\":\"创建人\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"updateTime\",\"label\":\"最后修改时间\",\"min-width\":\"165\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"updateUserName\",\"label\":\"最后修改人\",\"min-width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\",\"fixed\":\"right\",\"min-width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{staticClass:\"btn-handle\",class:scope.row.contractTplStatus &&\n                      scope.row.contractTplStatus.code === 1 ? 'stop':'start',attrs:{\"type\":\"primary\",\"disabled\":!_vm.checkKey('templateMain_2')},on:{\"click\":function($event){_vm.handleStatus(scope.row)}}},[_vm._v(\"\\n              \"+_vm._s(scope.row.contractTplStatus ?\n                 scope.row.contractTplStatus.code === 1 ? '停用':'启用'\n                : '--')+\"\\n          \")]),_vm._v(\" \"),_c('el-button',{staticClass:\"btn-handle\",attrs:{\"disabled\":!_vm.checkKey('templateMain_3'),\"type\":\"primary\"},on:{\"click\":function($event){_vm.addTpl('revise',scope.row)}}},[_vm._v(\"修改\")])]}}])})],1)],1),_vm._v(\" \"),_c('pagenation',{attrs:{\"pageparams\":_vm.pageInfo,\"itemList\":_vm.itemList},on:{\"handlePage\":_vm.handlePage}}),_vm._v(\" \"),_c('el-dialog',{staticClass:\"m-dialog add-tpl-dialog\",attrs:{\"title\":_vm.dialogTitle,\"visible\":_vm.addTplDialog,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.addTplDialog=$event}}},[_c('el-form',{ref:\"addTplForm\",attrs:{\"model\":_vm.addTplForm,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"合同名称\",\"prop\":\"contractTplName\"}},[_c('el-input',{attrs:{\"disabled\":!_vm.isAdd},model:{value:(_vm.addTplForm.contractTplName),callback:function ($$v) {_vm.$set(_vm.addTplForm, \"contractTplName\", $$v)},expression:\"addTplForm.contractTplName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"合同类型\",\"prop\":\"contractTypeCode\"}},[_c('el-select',{staticClass:\"el-input-30\",attrs:{\"disabled\":!_vm.isAdd,\"clearable\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.addTplForm.contractTypeCode),callback:function ($$v) {_vm.$set(_vm.addTplForm, \"contractTypeCode\", $$v)},expression:\"addTplForm.contractTypeCode\"}},_vm._l((_vm.contractsTypeList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.contractTypeName,\"value\":item.contractTypeCode}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"上传模板\"}},[_c('el-upload',{ref:\"upload\",attrs:{\"headers\":_vm.upHeaders,\"action\":_vm.uploadUrl,\"accept\":\".docx\",\"file-list\":_vm.fileList,\"on-success\":_vm.handleFileSuccess,\"on-remove\":_vm.handleRemove,\"before-remove\":_vm.beforeRemove}},[_c('el-button',{staticClass:\"choose-file-btn\",attrs:{\"slot\":\"trigger\",\"size\":\"small\",\"type\":\"primary\"},slot:\"trigger\"},[_vm._v(\"选取文件\")]),_vm._v(\" \"),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"只能上传.docx文件\")])],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{staticClass:\"btn-save\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submitAddTpl}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"btn-reset\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.addTplDialog=false}}},[_vm._v(\"取消\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-3a83998e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/views/contract_manage/template_maintenance/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3a83998e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3a83998e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/contract_manage/template_maintenance/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}