{"version":3,"sources":["webpack:///src/views/estate_manage/examination_manage/inspection_point/index.vue","webpack:///./src/views/estate_manage/examination_manage/inspection_point/index.vue?6ddd","webpack:///./src/views/estate_manage/examination_manage/inspection_point/index.vue"],"names":["inspection_point","data","pickerOptions","shortcuts","text","onClick","picker","end","Date","start","setTime","getTime","$emit","pageparams","reqData","marketCode","currentPage","pageSize","itemList","dialog_title","marketList","point_add_dialog","formLabelWidth","point_add_form","pointLocation","pointName","serialNumber","point_add_rules","required","message","trigger","max","edit_point_id","set_point_id","point_set_dialog","setting_list","estate_company","estate_staff","role","computed","currentUser","this","$store","state","components","selectMarket","pagenation","name","methods","download_code","index","row","_$http","_this","param","fileUrl","pictureUrl","$http","method","url","showLoading","params","defineProperty_default","then","res","download","jpgData","Blob","window","navigator","msSaveOrOpenBlob","URL","createObjectURL","link","document","createElement","style","display","href","setAttribute","body","appendChild","click","judegRole","affiliation","getMarketList","_this2","get","estate_inspection","code","getListData","_this3","pointList","page","search","handlePage","val","clean_data","assign_default","$options","point_add","point_edit","pointId","save_add","_this4","$refs","validate","valid","post","addPoint","resetFields","put","point_set","setPointList","companyData","id","_this5","pointSet","map","item","edit","_this6","company","getstaff","_this7","staff","add_config","add_data","checkInterval","checkNumber","companyName","staffName","push","confirmEdit","_this8","companyId","staffId","configId","editPointSet","addPointSet","delete_config","_this9","deletePointSet","delete","splice","add_marketData","created","examination_manage_inspection_point","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","model","label-width","inline","label-position","span","xs","label","prop","_v","type","icon","on","directives","rawName","value","getters","getPermission","expression","staticStyle","width","align","stripe","height","min-width","scopedSlots","_u","key","fn","scope","disabled","$event","$index","fixed","title","visible","update:visible","close","rules","clearable","placeholder","callback","$$v","$set","_l","marketName","auto-complete","trim","slot","fit","highlight-current-row","change","_s","size","_n","precision","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/81.2725a9f660a024aaba24.js","sourcesContent":["<template>\r\n  <div class=\"contract-receipts\">\r\n    <!-- 搜索 -->\r\n    <el-form class=\"c-search-form\" :model=\"reqData\" ref=\"reqData\" label-width=\"102px\" :inline=\"true\" label-position=\"right\">\r\n      <el-row >\r\n        <el-col :span=\"12\" :xs=\"24\">\r\n          <el-form-item label=\"商场\" prop=\"marketCode\">\r\n            <select-market :reqData=\"reqData\"></select-market>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"12\" :xs=\"24\">\r\n          <div class=\"c-footer-btn\">\r\n            <el-button class=\"btn-search\" type=\"primary\" icon=\"el-icon-search\" @click=\"search\">查询</el-button>\r\n          </div>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n    <div>\r\n      <el-button class=\"btn-search btn-add\" type=\"primary\" @click=\"point_add\" v-show=\"$store.getters.getPermission('inspectionPoint_2')\">添加巡检点</el-button>\r\n    </div>\r\n    <!-- 表格 -->\r\n    <div class=\"c-table-wrap\">\r\n      <el-table :data=\"itemList\" style=\"width: 100%\" align=\"center\" stripe height=\"500\">\r\n        <el-table-column align=\"center\" prop=\"pointId\" label=\"序号\" min-width=\"160\">\r\n        </el-table-column>\r\n        <el-table-column align=\"center\" prop=\"marketName\" label=\"所属商场\">\r\n        </el-table-column>\r\n        <el-table-column align=\"center\" prop=\"serialNumber\" label=\"巡检点编号\" min-width=\"105\">\r\n        </el-table-column>\r\n        <el-table-column align=\"center\" prop=\"pointName\" label=\"巡检点名称\" min-width=\"120\">\r\n        </el-table-column>\r\n        <el-table-column align=\"center\" prop=\"pointLocation\" label=\"所处位置\" min-width=\"100\">\r\n        </el-table-column>\r\n        <el-table-column align=\"center\" prop=\"createName\" label=\"登记人\">\r\n        </el-table-column>\r\n        <el-table-column align=\"center\" prop=\"createTime\" label=\"登记时间\" min-width=\"165\">\r\n        </el-table-column>\r\n        <el-table-column align=\"center\" label=\"巡检配置\" >\r\n          <template slot-scope=\"scope\">\r\n            <a  class=\"special_link\" @click=\"point_set(scope.$index, scope.row)\" :disabled=\"!$store.getters.getPermission('inspectionPoint_4')\">\r\n              配置\r\n            </a>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column align=\"center\" label=\"操作\" min-width=\"200\" fixed=\"right\">\r\n          <template slot-scope=\"scope\">\r\n            <a class=\"special_link download_link\"  @click=\"download_code(scope.$index,scope.row)\" :disabled=\"!$store.getters.getPermission('inspectionPoint_5')\">\r\n              下载二维码\r\n            </a>\r\n            <el-button class=\"btn-handle\" type=\"primary\" @click=\"point_edit(scope.$index, scope.row)\" :disabled=\"!$store.getters.getPermission('inspectionPoint_3')\">\r\n              修改\r\n            </el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n    <div class=\"pagination-box\">\r\n      <pagenation :pageparams=\"pageparams\" :itemList=\"itemList\" @handlePage=\"handlePage\"></pagenation>\r\n    </div>\r\n    <!-- 巡检点添加弹窗 -->\r\n    <el-dialog :title=\"dialog_title\" :visible.sync=\"point_add_dialog\" class=\"s-dialog\" @close=\"clean_data\">\r\n      <el-form :model=\"point_add_form\" :rules=\"point_add_rules\" ref=\"point_add_form\">\r\n        <el-form-item label=\"所属商场\" :label-width=\"formLabelWidth\" prop=\"marketCode\">\r\n          <el-select v-model=\"point_add_form.marketCode\" clearable placeholder=\"请选择\" :disabled=\"role\">\r\n            <el-option v-for=\"(item, index) in marketList\" :key=\"index\" :label=\"item.marketName\" :value=\"item.marketCode\">\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"巡检点编号\" :label-width=\"formLabelWidth\" prop=\"serialNumber\">\r\n          <el-input v-model.trim=\"point_add_form.serialNumber\" auto-complete=\"off\" clearable></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"巡检点名称\" :label-width=\"formLabelWidth\" prop=\"pointName\">\r\n          <el-input v-model.trim=\"point_add_form.pointName\" auto-complete=\"off\" clearable></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"所处位置\" :label-width=\"formLabelWidth\" prop=\"pointLocation\">\r\n          <el-input v-model.trim=\"point_add_form.pointLocation\" auto-complete=\"off\" clearable></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"save_add\" class=\"btn-save\">保 存</el-button>\r\n        <el-button @click=\"point_add_dialog = false\" class=\"btn-reset\">取 消</el-button>\r\n      </div>\r\n    </el-dialog>\r\n    <!-- 巡检点配置弹窗 -->\r\n    <el-dialog title=\"巡检点-配置\" :visible.sync=\"point_set_dialog\" class=\"l-dialog\">\r\n      <el-table :data=\"setting_list\" fit highlight-current-row style=\"width: 100%\">\r\n        <el-table-column align=\"center\" label=\"序号\" type=\"index\">\r\n        </el-table-column>\r\n        <el-table-column align=\"center\" label=\"物业公司\">\r\n          <template slot-scope=\"scope\">\r\n            <template v-if=\"scope.row.edit\">\r\n              <el-select v-model=\"scope.row.companyId\"  placeholder=\"\"  @change=\"getstaff(scope.row.companyId)\">\r\n                <el-option v-for=\"(item, index) in estate_company\" :key=\"index\" :label=\"item.companyName\" :value=\"item.companyId\">\r\n                </el-option>\r\n              </el-select>\r\n            </template>\r\n            <span v-else>{{ scope.row.companyName }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column align=\"center\" label=\"物业人员\">\r\n          <template slot-scope=\"scope\">\r\n            <template v-if=\"scope.row.edit\">\r\n              <el-select v-model=\"scope.row.staffId\"  placeholder=\"\" clearable>\r\n                <el-option v-for=\"(item, index) in estate_staff\" :key=\"index\" :label=\"item.name\" :value=\"item.staffId\">\r\n                </el-option>\r\n              </el-select>\r\n            </template>\r\n            <span v-else>{{ scope.row.staffName }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"巡检次数/日\">\r\n          <template slot-scope=\"scope\">\r\n            <template v-if=\"scope.row.edit\">\r\n              <el-input type=\"number\" class=\"edit-input\" size=\"small\"  v-model.number=\"scope.row.checkNumber\"></el-input>\r\n            </template>\r\n            <span v-else>{{ scope.row.checkNumber }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"最小巡检时间间隔(h)\">\r\n          <template slot-scope=\"scope\">\r\n            <template v-if=\"scope.row.edit\">\r\n              <el-input type=\"number\" class=\"edit-input\" size=\"small\" precision=\"2\" v-model.number=\"scope.row.checkInterval\"></el-input>\r\n            </template>\r\n            <span v-else>{{ scope.row.checkInterval}}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column align=\"center\" label=\"操作\" min-width=\"160\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button v-if=\"scope.row.edit\" type=\"primary\" @click=\"confirmEdit(scope.row)\" size=\"small\" icon=\"el-icon-circle-check-outline\">保存</el-button>\r\n            <el-button v-else type=\"primary\" @click='scope.row.edit=!scope.row.edit' size=\"small\" icon=\"el-icon-edit\">编辑</el-button>\r\n            <el-button type=\"primary\" size=\"small\" icon=\"el-icon-edit\" @click=\"delete_config(scope.row,scope.$index)\">删除</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"add_config\" class=\"btn-save\">添 加</el-button>\r\n        <el-button @click=\"point_set_dialog = false\" class=\"btn-reset\">关 闭</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ApiSetting from \"../../../../api/estate-inspection\";\r\nimport selectMarket from \"@/components/selectMarket\";\r\nimport pagenation from \"@/components/pagenation\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      pickerOptions: {\r\n        shortcuts: [\r\n          {\r\n            text: \"最近一周\",\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n              picker.$emit(\"pick\", [start, end]);\r\n            }\r\n          },\r\n          {\r\n            text: \"最近一个月\",\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\r\n              picker.$emit(\"pick\", [start, end]);\r\n            }\r\n          },\r\n          {\r\n            text: \"最近三个月\",\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\r\n              picker.$emit(\"pick\", [start, end]);\r\n            }\r\n          }\r\n        ]\r\n      },\r\n      pageparams: {},\r\n      reqData: {\r\n        marketCode: \"\",\r\n        currentPage: 1,\r\n        pageSize: 20\r\n      },\r\n      itemList: [],\r\n      // 巡检点添加\r\n      dialog_title: \"巡检点-添加\",\r\n      marketList: [],\r\n      point_add_dialog: false,\r\n      formLabelWidth: \"100px\",\r\n      marketCode: \"\",\r\n      point_add_form: {\r\n        marketCode: \"\",\r\n        pointLocation: \"\",\r\n        pointName: \"\",\r\n        serialNumber: \"\"\r\n      },\r\n      point_add_rules: {\r\n        marketCode: [\r\n          { required: true, message: \"请输入活动名称\", trigger: \"blur\" }\r\n        ],\r\n        pointLocation: [\r\n          { required: true, message: \"请输入巡检点位置\", trigger: \"blur\" },\r\n          { max: 50, message: \"长度应小于50\", trigger: \"blur\" }\r\n        ],\r\n        pointName: [\r\n          { required: false, trigger: \"blur\" },\r\n          { max: 20, message: \"长度应小于20\", trigger: \"blur\" }\r\n        ],\r\n        serialNumber: [\r\n          { required: false, trigger: \"blur\" },\r\n          { max: 30, message: \"长度应小于30\", trigger: \"blur\" }\r\n        ]\r\n      },\r\n      edit_point_id: \"\",\r\n      set_point_id: \"\",\r\n      // 巡检点配置\r\n      point_set_dialog: false,\r\n      setting_list: [],\r\n      estate_company: [],\r\n      estate_staff: [],\r\n      role: false\r\n    };\r\n  },\r\n  computed: {\r\n    currentUser: function() {\r\n      return this.$store.state.currentUser;\r\n    }\r\n  },\r\n  components: { selectMarket, pagenation },\r\n  name: \"inspectionPoint\",\r\n  methods: {\r\n    // 下载二维码\r\n    download_code(index, row) {\r\n      let param = {\r\n        fileUrl: row.pictureUrl\r\n      };\r\n      this.$http({\r\n        method: \"get\",\r\n        url: \"/business/download\",\r\n        showLoading: false,\r\n        params: param,\r\n        showLoading: false,\r\n        responseType: \"arraybuffer\"\r\n      }).then(res => {\r\n        this.download(res.data);\r\n      });\r\n    },\r\n    download(data) {\r\n      if (!data) {\r\n        return;\r\n      }\r\n      let jpgData = new Blob([data]);\r\n      if (window.navigator && window.navigator.msSaveOrOpenBlob) {\r\n        window.navigator.msSaveOrOpenBlob(jpgData, \"二维码.jpg\");\r\n      } else {\r\n        let url = window.URL.createObjectURL(jpgData);\r\n        let link = document.createElement(\"a\");\r\n        link.style.display = \"none\";\r\n        link.href = url;\r\n        link.setAttribute(\"download\", \"二维码.jpg\");\r\n        document.body.appendChild(link);\r\n        link.click();\r\n      }\r\n    },\r\n\r\n    //判断当前用户权限\r\n    judegRole() {\r\n      if (this.currentUser.affiliation === 2) {\r\n        this.marketCode = this.currentUser.marketCode;\r\n        this.point_add_form.marketCode = this.currentUser.marketCode;\r\n        this.role = true;\r\n      } else {\r\n        this.role = false;\r\n      }\r\n    },\r\n\r\n    // 获取商场列表\r\n    getMarketList() {\r\n      this.$http.get(ApiSetting.marketList).then(res => {\r\n        if (res && res.code == 0 && res.data) {\r\n          this.marketList = res.data;\r\n        } else {\r\n          this.marketList = [];\r\n        }\r\n      });\r\n    },\r\n\r\n    getListData() {\r\n      this.$http\r\n        .get(ApiSetting.pointList, { params: this.reqData })\r\n        .then(res => {\r\n          if (res && res.code == 0 && res.data) {\r\n            this.itemList = res.data;\r\n            this.pageparams = res.page;\r\n          } else {\r\n            this.itemList = [];\r\n          }\r\n        });\r\n    },\r\n\r\n    // 搜索\r\n    search() {\r\n      this.reqData.currentPage = 1;\r\n      this.getListData();\r\n    },\r\n\r\n    // 翻页\r\n    handlePage(val) {\r\n      this.reqData.currentPage = val;\r\n      this.getListData();\r\n    },\r\n    clean_data() {\r\n      Object.assign(this.point_add_form, this.$options.data().point_add_form);\r\n      this.point_add_form.marketCode = this.marketCode;\r\n    },\r\n    // 添加巡检点\r\n    point_add() {\r\n      this.dialog_title = \"巡检点—添加\";\r\n      this.point_add_dialog = true;\r\n      this.point_add_form.pointName = \"\";\r\n    },\r\n\r\n    // 修改巡检点\r\n    point_edit(index, row) {\r\n      this.dialog_title = \"巡检点—修改\";\r\n      this.point_add_dialog = true;\r\n      this.point_add_form = {\r\n        marketCode: row.marketCode,\r\n        pointLocation: row.pointLocation,\r\n        pointName: row.pointName,\r\n        serialNumber: row.serialNumber\r\n      };\r\n      this.edit_point_id = row.pointId;\r\n    },\r\n\r\n    // 操作巡检点保存\r\n    save_add() {\r\n      this.$refs[\"point_add_form\"].validate(valid => {\r\n        if (valid) {\r\n          if (this.dialog_title == \"巡检点—添加\") {\r\n            this.$http\r\n              .post(ApiSetting.addPoint, this.point_add_form)\r\n              .then(res => {\r\n                if (res && res.code == 0) {\r\n                  this.point_add_dialog = false;\r\n                  this.getListData();\r\n                  this.$refs[\"point_add_form\"].resetFields();\r\n                }\r\n              });\r\n          } else {\r\n            let addPoint = `${ApiSetting.addPoint}/${this.edit_point_id}`;\r\n            this.$http.put(addPoint, this.point_add_form).then(res => {\r\n              if (res && res.code == 0) {\r\n                this.edit_point_id = \"\";\r\n                this.point_add_dialog = false;\r\n                this.getListData();\r\n                this.$refs[\"point_add_form\"].resetFields();\r\n              }\r\n            });\r\n          }\r\n        }\r\n      });\r\n    },\r\n\r\n    //查询巡检点配置\r\n    point_set(index, row) {\r\n      this.set_point_id = row.pointId;\r\n      this.point_set_dialog = true;\r\n      // 获取巡检点列表\r\n      this.setPointList(this.set_point_id);\r\n      // 获取物业公司数据\r\n      this.companyData(row.marketCode);\r\n    },\r\n\r\n    // 获取巡检点配置数据\r\n    setPointList(id) {\r\n      let pointSet = `${ApiSetting.pointSet}/${id}`;\r\n      this.$http.get(pointSet).then(res => {\r\n        if (res && res.code == 0) {\r\n          if (res.data) {\r\n            res.data.map(item => {\r\n              item.edit = false;\r\n            });\r\n            this.setting_list = res.data;\r\n          } else {\r\n            this.setting_list = [];\r\n          }\r\n        }\r\n      });\r\n    },\r\n    // 获取物业公司信息\r\n    companyData(code) {\r\n      let company = `${ApiSetting.company}/${code}`;\r\n      this.$http.get(company).then(res => {\r\n        if (res && res.code == 0) {\r\n          this.estate_company = res.data;\r\n        }\r\n      });\r\n    },\r\n    // 获取物业人员信息\r\n    getstaff(id) {\r\n      let staff = `${ApiSetting.staff}/${id}`;\r\n      this.$http.get(staff).then(res => {\r\n        if (res && res.code == 0) {\r\n          this.estate_staff = res.data;\r\n        }\r\n      });\r\n    },\r\n    // 添加巡检点配置\r\n    add_config() {\r\n      let add_data = {\r\n        checkInterval: \"\",\r\n        checkNumber: \"\",\r\n        companyName: \"\",\r\n        pointId: this.set_point_id,\r\n        staffName: \"\",\r\n        edit: true\r\n      };\r\n      this.setting_list.push(add_data);\r\n    },\r\n\r\n    // 巡检点配置保存\r\n    confirmEdit(row) {\r\n      let param = {\r\n        checkInterval: row.checkInterval,\r\n        checkNumber: row.checkNumber,\r\n        companyId: row.companyId,\r\n        pointId: row.pointId,\r\n        staffId: row.staffId\r\n      };\r\n      if (row.configId) {\r\n        // 编辑保存\r\n        let editPointSet = `${ApiSetting.addPointSet}/${row.configId}`;\r\n        this.$http.put(editPointSet, param).then(res => {\r\n          if (res && res.code == 0) {\r\n            row.edit = false;\r\n            this.setPointList(this.set_point_id);\r\n          }\r\n        });\r\n      } else {\r\n        // 添加保存\r\n        this.$http.post(ApiSetting.addPointSet, param).then(res => {\r\n          if (res && res.code == 0) {\r\n            row.edit = false;\r\n            this.setPointList(this.set_point_id);\r\n          }\r\n        });\r\n      }\r\n    },\r\n\r\n    // 巡检点删除\r\n    delete_config(row, index) {\r\n      if (row.configId) {\r\n        // 这是已添加删除\r\n        let deletePointSet = `${ApiSetting.addPointSet}/${row.configId}`;\r\n        this.$http.delete(deletePointSet).then(res => {\r\n          if (res && res.code == 0) {\r\n            this.setPointList(this.set_point_id);\r\n          }\r\n        });\r\n      } else {\r\n        // 未添加删除\r\n        this.setting_list.splice(index, 1);\r\n      }\r\n    },\r\n    add_marketData(data) {\r\n      this.point_add_form.marketCode = data;\r\n    }\r\n  },\r\n  created() {\r\n    // 角色判断\r\n    this.judegRole();\r\n    // 获取商场信息\r\n    this.getMarketList();\r\n    // 获取列表信息\r\n    this.getListData();\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.special_link{\r\n  font-size: 12px;\r\n  color: #3f87f5;\r\n  text-decoration: underline;\r\n \r\n}\r\n.download_link{\r\n   margin-right:20px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/estate_manage/examination_manage/inspection_point/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"contract-receipts\"},[_c('el-form',{ref:\"reqData\",staticClass:\"c-search-form\",attrs:{\"model\":_vm.reqData,\"label-width\":\"102px\",\"inline\":true,\"label-position\":\"right\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":12,\"xs\":24}},[_c('el-form-item',{attrs:{\"label\":\"商场\",\"prop\":\"marketCode\"}},[_c('select-market',{attrs:{\"reqData\":_vm.reqData}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12,\"xs\":24}},[_c('div',{staticClass:\"c-footer-btn\"},[_c('el-button',{staticClass:\"btn-search\",attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.search}},[_vm._v(\"查询\")])],1)])],1)],1),_vm._v(\" \"),_c('div',[_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.$store.getters.getPermission('inspectionPoint_2')),expression:\"$store.getters.getPermission('inspectionPoint_2')\"}],staticClass:\"btn-search btn-add\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.point_add}},[_vm._v(\"添加巡检点\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"c-table-wrap\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.itemList,\"align\":\"center\",\"stripe\":\"\",\"height\":\"500\"}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"pointId\",\"label\":\"序号\",\"min-width\":\"160\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"marketName\",\"label\":\"所属商场\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"serialNumber\",\"label\":\"巡检点编号\",\"min-width\":\"105\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"pointName\",\"label\":\"巡检点名称\",\"min-width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"pointLocation\",\"label\":\"所处位置\",\"min-width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"createName\",\"label\":\"登记人\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"createTime\",\"label\":\"登记时间\",\"min-width\":\"165\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"巡检配置\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('a',{staticClass:\"special_link\",attrs:{\"disabled\":!_vm.$store.getters.getPermission('inspectionPoint_4')},on:{\"click\":function($event){_vm.point_set(scope.$index, scope.row)}}},[_vm._v(\"\\n            配置\\n          \")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\",\"min-width\":\"200\",\"fixed\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('a',{staticClass:\"special_link download_link\",attrs:{\"disabled\":!_vm.$store.getters.getPermission('inspectionPoint_5')},on:{\"click\":function($event){_vm.download_code(scope.$index,scope.row)}}},[_vm._v(\"\\n            下载二维码\\n          \")]),_vm._v(\" \"),_c('el-button',{staticClass:\"btn-handle\",attrs:{\"type\":\"primary\",\"disabled\":!_vm.$store.getters.getPermission('inspectionPoint_3')},on:{\"click\":function($event){_vm.point_edit(scope.$index, scope.row)}}},[_vm._v(\"\\n            修改\\n          \")])]}}])})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"pagination-box\"},[_c('pagenation',{attrs:{\"pageparams\":_vm.pageparams,\"itemList\":_vm.itemList},on:{\"handlePage\":_vm.handlePage}})],1),_vm._v(\" \"),_c('el-dialog',{staticClass:\"s-dialog\",attrs:{\"title\":_vm.dialog_title,\"visible\":_vm.point_add_dialog},on:{\"update:visible\":function($event){_vm.point_add_dialog=$event},\"close\":_vm.clean_data}},[_c('el-form',{ref:\"point_add_form\",attrs:{\"model\":_vm.point_add_form,\"rules\":_vm.point_add_rules}},[_c('el-form-item',{attrs:{\"label\":\"所属商场\",\"label-width\":_vm.formLabelWidth,\"prop\":\"marketCode\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\",\"disabled\":_vm.role},model:{value:(_vm.point_add_form.marketCode),callback:function ($$v) {_vm.$set(_vm.point_add_form, \"marketCode\", $$v)},expression:\"point_add_form.marketCode\"}},_vm._l((_vm.marketList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.marketName,\"value\":item.marketCode}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"巡检点编号\",\"label-width\":_vm.formLabelWidth,\"prop\":\"serialNumber\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\",\"clearable\":\"\"},model:{value:(_vm.point_add_form.serialNumber),callback:function ($$v) {_vm.$set(_vm.point_add_form, \"serialNumber\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"point_add_form.serialNumber\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"巡检点名称\",\"label-width\":_vm.formLabelWidth,\"prop\":\"pointName\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\",\"clearable\":\"\"},model:{value:(_vm.point_add_form.pointName),callback:function ($$v) {_vm.$set(_vm.point_add_form, \"pointName\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"point_add_form.pointName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"所处位置\",\"label-width\":_vm.formLabelWidth,\"prop\":\"pointLocation\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\",\"clearable\":\"\"},model:{value:(_vm.point_add_form.pointLocation),callback:function ($$v) {_vm.$set(_vm.point_add_form, \"pointLocation\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"point_add_form.pointLocation\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{staticClass:\"btn-save\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save_add}},[_vm._v(\"保 存\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"btn-reset\",on:{\"click\":function($event){_vm.point_add_dialog = false}}},[_vm._v(\"取 消\")])],1)],1),_vm._v(\" \"),_c('el-dialog',{staticClass:\"l-dialog\",attrs:{\"title\":\"巡检点-配置\",\"visible\":_vm.point_set_dialog},on:{\"update:visible\":function($event){_vm.point_set_dialog=$event}}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.setting_list,\"fit\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"序号\",\"type\":\"index\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"物业公司\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.edit)?[_c('el-select',{attrs:{\"placeholder\":\"\"},on:{\"change\":function($event){_vm.getstaff(scope.row.companyId)}},model:{value:(scope.row.companyId),callback:function ($$v) {_vm.$set(scope.row, \"companyId\", $$v)},expression:\"scope.row.companyId\"}},_vm._l((_vm.estate_company),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.companyName,\"value\":item.companyId}})}))]:_c('span',[_vm._v(_vm._s(scope.row.companyName))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"物业人员\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.edit)?[_c('el-select',{attrs:{\"placeholder\":\"\",\"clearable\":\"\"},model:{value:(scope.row.staffId),callback:function ($$v) {_vm.$set(scope.row, \"staffId\", $$v)},expression:\"scope.row.staffId\"}},_vm._l((_vm.estate_staff),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.name,\"value\":item.staffId}})}))]:_c('span',[_vm._v(_vm._s(scope.row.staffName))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"巡检次数/日\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.edit)?[_c('el-input',{staticClass:\"edit-input\",attrs:{\"type\":\"number\",\"size\":\"small\"},model:{value:(scope.row.checkNumber),callback:function ($$v) {_vm.$set(scope.row, \"checkNumber\", _vm._n($$v))},expression:\"scope.row.checkNumber\"}})]:_c('span',[_vm._v(_vm._s(scope.row.checkNumber))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"最小巡检时间间隔(h)\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.edit)?[_c('el-input',{staticClass:\"edit-input\",attrs:{\"type\":\"number\",\"size\":\"small\",\"precision\":\"2\"},model:{value:(scope.row.checkInterval),callback:function ($$v) {_vm.$set(scope.row, \"checkInterval\", _vm._n($$v))},expression:\"scope.row.checkInterval\"}})]:_c('span',[_vm._v(_vm._s(scope.row.checkInterval))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\",\"min-width\":\"160\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.edit)?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\",\"icon\":\"el-icon-circle-check-outline\"},on:{\"click\":function($event){_vm.confirmEdit(scope.row)}}},[_vm._v(\"保存\")]):_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){scope.row.edit=!scope.row.edit}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){_vm.delete_config(scope.row,scope.$index)}}},[_vm._v(\"删除\")])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{staticClass:\"btn-save\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.add_config}},[_vm._v(\"添 加\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"btn-reset\",on:{\"click\":function($event){_vm.point_set_dialog = false}}},[_vm._v(\"关 闭\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4293107e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/estate_manage/examination_manage/inspection_point/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4293107e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4293107e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4293107e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/estate_manage/examination_manage/inspection_point/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}